webpackJsonp([1],{"+coW":function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[""]},"+h1B":function(n,e,l){"use strict";var t=l("/oeL"),i=l("aR8+"),o=l("wQAS"),a=l("v6Q/"),r=l("sthP"),u=l("APpZ"),d=l("cTBr"),s=l("NZlp"),c=l("6sZi"),g=l("O11v"),h=l("q4dy"),f=l("qbdv"),m=l("fc+i"),p=l("Z04r"),v=l("f9zQ"),b=l("fL27"),y=l("EyWH"),E=l("bm2B"),S=l("CPp0"),_=l("7i8B"),R=(l.n(_),l("gLK3")),C=l("ppG+"),T=l("Q6ZI");l.n(T);l.d(e,"a",function(){return w});var w=t["ɵcmf"](i.a,[o.a],function(n){return t["ɵmod"]([t["ɵmpd"](512,t.ComponentFactoryResolver,t["ɵCodegenComponentFactoryResolver"],[[8,[a.a,r.a,u.a,d.a,s.a,c.a,g.a,h.a]],[3,t.ComponentFactoryResolver],t.NgModuleRef]),t["ɵmpd"](5120,t.LOCALE_ID,t["ɵm"],[[3,t.LOCALE_ID]]),t["ɵmpd"](4608,f.NgLocalization,f.NgLocaleLocalization,[t.LOCALE_ID]),t["ɵmpd"](4608,t.Compiler,t.Compiler,[]),t["ɵmpd"](5120,t.APP_ID,t["ɵf"],[]),t["ɵmpd"](5120,t.IterableDiffers,t["ɵk"],[]),t["ɵmpd"](5120,t.KeyValueDiffers,t["ɵl"],[]),t["ɵmpd"](4608,m.DomSanitizer,m["ɵe"],[m.DOCUMENT]),t["ɵmpd"](6144,t.Sanitizer,null,[m.DomSanitizer]),t["ɵmpd"](4608,m.HAMMER_GESTURE_CONFIG,p.a,[]),t["ɵmpd"](5120,m.EVENT_MANAGER_PLUGINS,function(n,e,l,t){return[new m["ɵDomEventsPlugin"](n),new m["ɵKeyEventsPlugin"](e),new m["ɵHammerGesturesPlugin"](l,t)]},[m.DOCUMENT,m.DOCUMENT,m.DOCUMENT,m.HAMMER_GESTURE_CONFIG]),t["ɵmpd"](4608,m.EventManager,m.EventManager,[m.EVENT_MANAGER_PLUGINS,t.NgZone]),t["ɵmpd"](135680,m["ɵDomSharedStylesHost"],m["ɵDomSharedStylesHost"],[m.DOCUMENT]),t["ɵmpd"](4608,m["ɵDomRendererFactory2"],m["ɵDomRendererFactory2"],[m.EventManager,m["ɵDomSharedStylesHost"]]),t["ɵmpd"](5120,v.a,b.a,[]),t["ɵmpd"](5120,v.b,b.b,[]),t["ɵmpd"](4608,v.c,b.c,[v.a,v.b]),t["ɵmpd"](5120,t.RendererFactory2,b.d,[m["ɵDomRendererFactory2"],v.c,t.NgZone]),t["ɵmpd"](6144,m["ɵSharedStylesHost"],null,[m["ɵDomSharedStylesHost"]]),t["ɵmpd"](4608,t.Testability,t.Testability,[t.NgZone]),t["ɵmpd"](4608,m.Meta,m.Meta,[m.DOCUMENT]),t["ɵmpd"](4608,m.Title,m.Title,[m.DOCUMENT]),t["ɵmpd"](4608,y.a,b.e,[t.RendererFactory2]),t["ɵmpd"](4608,E.a,E.a,[]),t["ɵmpd"](4608,S.a,S.a,[]),t["ɵmpd"](4608,S.b,S.c,[]),t["ɵmpd"](5120,S.d,S.e,[]),t["ɵmpd"](4608,S.f,S.f,[S.a,S.b,S.d]),t["ɵmpd"](4608,S.g,S.h,[]),t["ɵmpd"](5120,S.i,S.j,[S.f,S.g]),t["ɵmpd"](4608,p.b,p.b,[]),t["ɵmpd"](5120,p.c,p.d,[[3,p.c],t.NgZone,p.b]),t["ɵmpd"](5120,p.e,p.f,[[3,p.e],p.c]),t["ɵmpd"](4608,p.g,p.g,[p.c,p.e]),t["ɵmpd"](4608,p.h,p.h,[t.NgZone,p.b]),t["ɵmpd"](4608,p.i,p.i,[]),t["ɵmpd"](5120,p.j,p.k,[[3,p.j]]),t["ɵmpd"](4608,p.l,p.l,[p.e]),t["ɵmpd"](4608,p.m,p.m,[p.g,p.j,t.ComponentFactoryResolver,p.l,t.ApplicationRef,t.Injector,t.NgZone]),t["ɵmpd"](4608,p.n,p.n,[p.b]),t["ɵmpd"](4608,p.o,p.o,[p.n,p.b,t.NgZone]),t["ɵmpd"](5120,p.p,p.q,[[3,p.p],[2,p.r],p.b]),t["ɵmpd"](4608,p.s,p.s,[p.m,t.Injector,[2,f.Location],[3,p.s]]),t["ɵmpd"](5120,p.t,p.u,[[3,p.t],[2,S.i],m.DomSanitizer]),t["ɵmpd"](5120,p.v,p.w,[[3,p.v]]),t["ɵmpd"](4608,_.ScrollbarHelper,_.ScrollbarHelper,[m.DOCUMENT]),t["ɵmpd"](4608,R.a,R.a,[S.i]),t["ɵmpd"](4608,C.a,C.a,[]),t["ɵmpd"](512,f.CommonModule,f.CommonModule,[]),t["ɵmpd"](1024,t.ErrorHandler,m["ɵa"],[]),t["ɵmpd"](1024,t.APP_INITIALIZER,function(n,e){return[m["ɵc"](n,e)]},[[2,m.NgProbeToken],[2,t.NgProbeToken]]),t["ɵmpd"](512,t.ApplicationInitStatus,t.ApplicationInitStatus,[[2,t.APP_INITIALIZER]]),t["ɵmpd"](131584,t["ɵe"],t["ɵe"],[t.NgZone,t["ɵConsole"],t.Injector,t.ErrorHandler,t.ComponentFactoryResolver,t.ApplicationInitStatus]),t["ɵmpd"](2048,t.ApplicationRef,null,[t["ɵe"]]),t["ɵmpd"](512,t.ApplicationModule,t.ApplicationModule,[t.ApplicationRef]),t["ɵmpd"](512,m.BrowserModule,m.BrowserModule,[[3,m.BrowserModule]]),t["ɵmpd"](512,b.f,b.f,[]),t["ɵmpd"](512,E.b,E.b,[]),t["ɵmpd"](512,E.c,E.c,[]),t["ɵmpd"](512,S.k,S.k,[]),t["ɵmpd"](512,p.x,p.x,[]),t["ɵmpd"](256,p.y,!0,[]),t["ɵmpd"](512,p.z,p.z,[[2,m.DOCUMENT],[2,p.y]]),t["ɵmpd"](512,p.A,p.A,[]),t["ɵmpd"](512,p.B,p.B,[]),t["ɵmpd"](512,p.C,p.C,[]),t["ɵmpd"](512,p.D,p.D,[]),t["ɵmpd"](512,p.E,p.E,[]),t["ɵmpd"](512,p.F,p.F,[]),t["ɵmpd"](512,p.G,p.G,[]),t["ɵmpd"](512,p.H,p.H,[]),t["ɵmpd"](512,p.I,p.I,[]),t["ɵmpd"](512,p.J,p.J,[]),t["ɵmpd"](512,p.K,p.K,[]),t["ɵmpd"](512,p.L,p.L,[]),t["ɵmpd"](512,p.M,p.M,[]),t["ɵmpd"](512,p.N,p.N,[]),t["ɵmpd"](512,p.O,p.O,[]),t["ɵmpd"](512,p.P,p.P,[]),t["ɵmpd"](512,p.Q,p.Q,[]),t["ɵmpd"](512,p.R,p.R,[]),t["ɵmpd"](512,p.S,p.S,[]),t["ɵmpd"](512,p.T,p.T,[]),t["ɵmpd"](512,p.U,p.U,[]),t["ɵmpd"](512,p.V,p.V,[]),t["ɵmpd"](512,p.W,p.W,[]),t["ɵmpd"](512,T.NgxDatatableModule,T.NgxDatatableModule,[]),t["ɵmpd"](512,i.a,i.a,[])])})},0:function(n,e,l){n.exports=l("cDNt")},"15l/":function(n,e,l){"use strict";l.d(e,"d",function(){return t}),l.d(e,"c",function(){return i}),l.d(e,"e",function(){return o}),l.d(e,"f",function(){return a}),l.d(e,"a",function(){return r}),l.d(e,"b",function(){return u});var t;!function(n){n[n.GRAPH="Graph"]="GRAPH",n[n.GIS="GIS"]="GIS"}(t||(t={}));var i;!function(n){n[n.STATIONS="Stations"]="STATIONS",n[n.DELIVERIES="Deliveries"]="DELIVERIES"}(i||(i={}));var o;!function(n){n[n.ALL="All"]="ALL",n[n.SELECTED_ONLY="Selected Only"]="SELECTED_ONLY",n[n.TRACE_ONLY="Trace Only"]="TRACE_ONLY"}(o||(o={}));var a;!function(n){n[n.SMALL="Small"]="SMALL",n[n.MEDIUM="Medium"]="MEDIUM",n[n.LARGE="Large"]="LARGE"}(a||(a={}));var r;!function(n){n[n.NONE="none"]="NONE",n[n.FULL="full"]="FULL",n[n.FORWARD="forward"]="FORWARD",n[n.BACKWARD="backward"]="BACKWARD"}(r||(r={}));var u;!function(n){n[n.LEFT=0]="LEFT",n[n.CENTER=1]="CENTER",n[n.RIGHT=2]="RIGHT"}(u||(u={}))},"5ZZ2":function(n,e,l){"use strict";function t(n){this.options=n}e.a=t,t.prototype.run=function(){new i(this).run()};var i=function(){function n(e){this.layout=e,this.options={};for(var l=0,t=Object.keys(e.options);l<t.length;l++){var i=t[l];this.options[i]=e.options[i]}for(var o=0,a=Object.keys(n.DEFAULTS);o<a.length;o++){var i=a[o];this.options.hasOwnProperty(i)||(this.options[i]=n.DEFAULTS[i])}}return n.prototype.run=function(){var n=this.options.cy,e=n.width(),l=n.height(),t=new o,i=new Map,u=new Set;this.options.eles.each(function(n){return u.add(n.id())}),n.nodes().forEach(function(n){var o;o=u.has(n.id())?new a(Math.random()*e,Math.random()*l,!1):new a(n.position().x,n.position().y,!0),i.set(n.id(),o),t.insertVertex(o)}),n.edges().forEach(function(n){t.insertEdge(i.get(n.source().id()),i.get(n.target().id()))}),new r(t).layout(e,l,100),n.nodes().layoutPositions(this.layout,this.options,function(n){var e=i.get(n.id());return{x:e.x,y:e.y}}),this.options.fit&&n.fit()},n}();i.DEFAULTS={fit:!0};var o=function(){function n(){this.vertices=[],this.edges=[]}return n.prototype.insertVertex=function(n){this.vertices.push(n)},n.prototype.insertEdge=function(n,e){n.connections.has(e)||(n.connections.add(e),e.connections.add(n),this.edges.push({vertex1:n,vertex2:e}))},n}(),a=function(){function n(n,e,l){this.connections=new Set,this.x=n,this.y=e,this.fixed=l}return n}(),r=function(){function n(n){this.graph=n}return n.prototype.layout=function(n,e,l){this.connectComponents();for(var t=n*e,i=Math.sqrt(t/this.graph.vertices.length),o=n/10,a=o/(l+1),r=0;r<l;r++){for(var u=0,d=this.graph.vertices;u<d.length;u++){var s=d[u];s.dx=0,s.dy=0}for(var c=this.graph.vertices.length,g=0;g<c-1;g++)for(var h=g+1;h<c;h++){var f=this.graph.vertices[g],s=this.graph.vertices[h];if(!f.fixed||!s.fixed){var m=s.x-f.x,p=s.y-f.y,v=Math.max(20,Math.sqrt(m*m+p*p)),b=.5*i*i/v;f.dx=f.dx-m/v*b,f.dy=f.dy-p/v*b,s.dx=s.dx+m/v*b,s.dy=s.dy+p/v*b}}for(var y=0,E=this.graph.edges;y<E.length;y++){var S=E[y],f=S.vertex1,s=S.vertex2;if(!f.fixed||!s.fixed){var m=s.x-f.x,p=s.y-f.y,v=Math.max(20,Math.sqrt(m*m+p*p)),b=1.5*v*v/i;f.dx=f.dx+m/v*b,f.dy=f.dy+p/v*b,s.dx=s.dx-m/v*b,s.dy=s.dy-p/v*b}}for(var _=0,R=this.graph.vertices;_<R.length;_++){var s=R[_];if(!s.fixed){var v=Math.max(20,Math.sqrt(s.dx*s.dx+s.dy*s.dy));s.x=Math.round(s.x+s.dx/v*Math.min(v,o)),s.y=Math.round(s.y+s.dy/v*Math.min(v,o))}}o-=a}},n.prototype.connectComponents=function(){for(var n=[],e=0,l=this.graph.vertices;e<l.length;e++){var t=l[e];t.visited=!1}for(var i=0,o=this.graph.vertices;i<o.length;i++){var t=o[i];!function(e){if(!e.visited){for(var l=[],t=[e];t.length>0;){var i=t.pop();l.push(i),i.visited=!0,i.connections.forEach(function(n){n.visited||t.push(n)})}n.push(l)}}(t)}if(n.length>1)for(var r=[],u=0,d=n;u<d.length;u++){var s=d[u],c=new a(-1,-1,!1);this.graph.insertVertex(c);for(var g=0,h=r;g<h.length;g++){var f=h[g];this.graph.insertEdge(c,f)}r.push(c);for(var m=0,p=s;m<p.length;m++){var t=p[m];this.graph.insertEdge(t,c)}}},n}()},"6sZi":function(n,e,l){"use strict";function t(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,c.d,c.e)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](638976,null,0,g._2,[s.Renderer2,s.ElementRef,g.t,[8,null]],null,null),(n()(),s["ɵted"](0,["expand_less"]))],function(n,e){n(e,2,0)},null)}function i(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,c.d,c.e)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](638976,null,0,g._2,[s.Renderer2,s.ElementRef,g.t,[8,null]],null,null),(n()(),s["ɵted"](0,["expand_more"]))],function(n,e){n(e,2,0)},null)}function o(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n          "])),(n()(),s["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["",""])),(n()(),s["ɵted"](null,["\n          "])),(n()(),s["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["",""])),(n()(),s["ɵted"](null,["\n        "]))],null,function(n,e){n(e,3,0,e.context.$implicit.name),n(e,6,0,e.context.$implicit.value)})}function a(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,10,"md-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](16384,null,0,g._101,[],null,null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,5,"table",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n        "])),(n()(),s["ɵeld"](0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),s["ɵand"](16777216,null,null,1,null,o)),s["ɵdid"](802816,null,0,h.NgForOf,[s.ViewContainerRef,s.TemplateRef,s.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵted"](null,["\n    "]))],function(n,e){n(e,8,0,e.component.properties)},null)}function r(n){return s["ɵvid"](0,[s["ɵqud"](402653184,1,{inOutConnector:0}),(n()(),s["ɵeld"](0,null,null,29,"h1",[["class","title mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g._103,[],null,null),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,9,"button",[["class","leftButton mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.moveLeft()&&t}return t},c.b,c.c)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](180224,null,0,g._0,[s.Renderer2,s.ElementRef,g.b,g.h],null,null),s["ɵdid"](16384,null,0,g._1,[],null,null),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,c.d,c.e)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](638976,null,0,g._2,[s.Renderer2,s.ElementRef,g.t,[8,null]],null,null),(n()(),s["ɵted"](0,["keyboard_arrow_left"])),(n()(),s["ɵted"](0,["\n  "])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["",""])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,0,"span",[["class","titleSpan"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,9,"button",[["class","rightButton mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.moveRight()&&t}return t},c.b,c.c)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](180224,null,0,g._0,[s.Renderer2,s.ElementRef,g.b,g.h],null,null),s["ɵdid"](16384,null,0,g._1,[],null,null),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,c.d,c.e)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](638976,null,0,g._2,[s.Renderer2,s.ElementRef,g.t,[8,null]],null,null),(n()(),s["ɵted"](0,["keyboard_arrow_right"])),(n()(),s["ɵted"](0,["\n  "])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵeld"](0,null,null,45,"div",[["class","mat-dialog-content"],["md-dialog-content",""]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g._104,[],null,null),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,29,"md-card",[["class","mat-card"]],null,null,null,c.x,c.y)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](49152,null,0,g._53,[],null,null),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵeld"](0,null,0,20,"md-card-title",[["class","title mat-card-title "]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](16384,null,0,g._105,[],null,null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["Properties"])),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,0,"span",[["class","titleSpan"]],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,null,null,10,"button",[["class","rightButton mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.toggleProperties()&&t}return t},c.b,c.c)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](180224,null,0,g._0,[s.Renderer2,s.ElementRef,g.b,g.h],null,null),s["ɵdid"](16384,null,0,g._1,[],null,null),(n()(),s["ɵted"](0,["\n        "])),(n()(),s["ɵand"](16777216,null,0,1,null,t)),s["ɵdid"](16384,null,0,h.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](0,["\n        "])),(n()(),s["ɵand"](16777216,null,0,1,null,i)),s["ɵdid"](16384,null,0,h.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](0,["\n      "])),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵand"](16777216,null,0,1,null,a)),s["ɵdid"](16384,null,0,h.NgIf,[s.ViewContainerRef,s.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),s["ɵted"](0,["\n  "])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,10,"md-card",[["class","mat-card"]],null,null,null,c.x,c.y)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](49152,null,0,g._53,[],null,null),(n()(),s["ɵted"](0,["\n    "])),(n()(),s["ɵeld"](0,null,0,5,"md-card-content",[["class","mat-card-content"]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](16384,null,0,g._101,[],null,null),(n()(),s["ɵted"](null,["\n      "])),(n()(),s["ɵeld"](0,[[1,0],["inOutConnector",1]],null,0,"div",[],null,null,null,null,null)),(n()(),s["ɵted"](null,["\n    "])),(n()(),s["ɵted"](0,["\n  "])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵeld"](0,null,null,14,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),s["ɵdid"](16384,null,0,g._106,[],null,null),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.close()&&t}return t},c.b,c.c)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](180224,null,0,g._0,[s.Renderer2,s.ElementRef,g.b,g.h],null,null),s["ɵdid"](16384,null,0,g._9,[],null,null),(n()(),s["ɵted"](0,["OK"])),(n()(),s["ɵted"](null,["\n  "])),(n()(),s["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.dialogRef.close()&&t}return t},c.b,c.c)),s["ɵdid"](16384,null,0,g.Y,[[2,g.Z],s.ElementRef],null,null),s["ɵdid"](180224,null,0,g._0,[s.Renderer2,s.ElementRef,g.b,g.h],null,null),s["ɵdid"](16384,null,0,g._9,[],null,null),(n()(),s["ɵted"](0,["Cancel"])),(n()(),s["ɵted"](null,["\n"])),(n()(),s["ɵted"](null,["\n\n"]))],function(n,e){var l=e.component;n(e,11,0),n(e,27,0),n(e,55,0,!l.propertiesHidden),n(e,58,0,l.propertiesHidden),n(e,63,0,!l.propertiesHidden)},function(n,e){var l=e.component;n(e,4,0,s["ɵnov"](e,6).disabled||null),n(e,16,0,l.title),n(e,20,0,s["ɵnov"](e,22).disabled||null),n(e,49,0,s["ɵnov"](e,51).disabled||null),n(e,82,0,s["ɵnov"](e,84).disabled||null),n(e,88,0,s["ɵnov"](e,90).disabled||null)})}function u(n){return s["ɵvid"](0,[(n()(),s["ɵeld"](0,null,null,1,"app-station-properties",[],null,null,null,r,p)),s["ɵdid"](245760,null,0,f.a,[g._100,g.X],null,null)],function(n,e){n(e,1,0)},null)}var d=l("cAlW"),s=l("/oeL"),c=l("v6Q/"),g=l("Z04r"),h=l("qbdv"),f=l("vZKz");l.d(e,"a",function(){return v});var m=[d.a],p=s["ɵcrt"]({encapsulation:0,styles:m,data:{}}),v=s["ɵccf"]("app-station-properties",f.a,u,{},{},[])},APpZ:function(n,e,l){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,2,"h1",[["class","mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._103,[],null,null),(n()(),a["ɵted"](null,["",""])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,2,"div",[["class","mat-dialog-content"],["md-dialog-content",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._104,[],null,null),(n()(),a["ɵted"](null,["",""])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,9,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._106,[],null,null),(n()(),a["ɵted"](null,["\n  "])),(n()(),a["ɵeld"](0,null,null,5,"button",[["class","mat-button"],["md-button",""],["md-dialog-close",""],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==a["ɵnov"](n,15).dialogRef.close(a["ɵnov"](n,15).dialogResult)&&t}return t},u.b,u.c)),a["ɵdid"](16384,null,0,r.Y,[[2,r.Z],a.ElementRef],null,null),a["ɵdid"](180224,null,0,r._0,[a.Renderer2,a.ElementRef,r.b,r.h],null,null),a["ɵdid"](16384,null,0,r._9,[],null,null),a["ɵdid"](16384,null,0,r._107,[r._100],{dialogResult:[0,"dialogResult"]},null),(n()(),a["ɵted"](0,["OK"])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵted"](null,["\n"]))],function(n,e){n(e,15,0,"")},function(n,e){var l=e.component;n(e,2,0,l.data.title),n(e,6,0,l.data.message),n(e,11,0,a["ɵnov"](e,13).disabled||null,a["ɵnov"](e,15).ariaLabel)})}function i(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,1,"app-dialog-alert",[],null,null,null,t,c)),a["ɵdid"](49152,null,0,d.a,[r.X],null,null)],null,null)}var o=l("ISd6"),a=l("/oeL"),r=l("Z04r"),u=l("v6Q/"),d=l("Ucw1");l.d(e,"a",function(){return g});var s=[o.a],c=a["ɵcrt"]({encapsulation:0,styles:s,data:{}}),g=a["ɵccf"]("app-dialog-alert",d.a,i,{},{},[])},DOm0:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[".checkboxes[_ngcontent-%COMP%]{padding:10px 0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}md-checkbox[_ngcontent-%COMP%]{margin:5px 0}"]},DrxL:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=["#container[_ngcontent-%COMP%]{height:100%;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column}#container[_ngcontent-%COMP%], #optionsBar[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}#optionsBar[_ngcontent-%COMP%]{height:70px;border-bottom:1px solid rgba(0,0,0,.4);-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}md-input-container[_ngcontent-%COMP%]{margin:0 10px;-webkit-box-flex:1;-ms-flex:1;flex:1}button[_ngcontent-%COMP%]{margin:0 10px}ngx-datatable[_ngcontent-%COMP%]{width:100%;height:calc(100% - 70px)}"]},E4ME:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[".title[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.titleSpan[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}#properties[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}td[_ngcontent-%COMP%]:first-child{padding-right:40px}"]},"Elx+":function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r"),o=l("Dqrr"),a=(l.n(o),l("abAz")),r=l.n(a),u=l("+H5X"),d=l.n(u),s=l("3/pW"),c=l.n(s),g=l("b0JJ"),h=l.n(g),f=l("4AbN"),m=l.n(f),p=l("mQ3I"),v=(l.n(p),l("bfTB")),b=l("YCPO"),y=l("vZKz"),E=l("UAJL"),S=l("bsaU"),_=l("ppG+"),R=l("15l/"),C=l("5ZZ2"),T=l("VR9T");l.d(e,"a",function(){return w});var w=function(){function n(n,e,l){this.tracingService=n,this.dialogService=e,this.elementRef=l,this.graphMenuActions=this.createGraphActions(),this.stationMenuActions=this.createStationActions(null),this.deliveryMenuActions=this.createDeliveryActions(null),this.layoutMenuActions=this.createLayoutActions(),this.traceMenuActions=this.createTraceActions(null),this.showZoom=T.a.DEFAULT_GRAPH_SHOW_ZOOM,this.showLegend=T.a.DEFAULT_GRAPH_SHOW_LEGEND,this.legend=T.a.PROPERTIES_WITH_COLORS.toArray().map(function(n){var e=T.a.PROPERTIES.get(n);return{name:e.name,color:S.a.colorToCss(e.color)}}),this.sliding=!1,this.mergeDeliveries=T.a.DEFAULT_GRAPH_MERGE_DELIVERIES,this.nodeSize=T.a.DEFAULT_GRAPH_NODE_SIZE,this.fontSize=T.a.DEFAULT_GRAPH_FONT_SIZE,this.selectTimerActivated=!0,this.hoverDeliveries=new o.Subject,null!=r.a&&(r.a.use(d.a),r.a.use(c.a),r.a.use(h.a),r()("layout","fruchterman",C.a))}return n.prototype.ngOnInit=function(){var n=this;window.onresize=function(){o.Observable.timer(500).subscribe(function(){null!=n.cy&&n.cy.resize()})},new p.ResizeSensor(this.containerElement.nativeElement,function(){null!=n.resizeTimer&&n.resizeTimer.unsubscribe(),null!=n.cy&&(n.resizeTimer=o.Observable.timer(100).subscribe(function(){return n.cy.resize()}))}),this.stationMenuTrigger.onMenuOpen.subscribe(function(){return n.updateOverlay()}),this.stationMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()}),this.deliveryMenuTrigger.onMenuOpen.subscribe(function(){return n.updateOverlay()}),this.deliveryMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()}),this.traceMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()})},n.prototype.init=function(n,e){var l=this;this.data=n,this.tracingService.init(n),this.cy=r()({container:this.graphElement.nativeElement,elements:{nodes:this.createNodes(),edges:this.createEdges()},layout:null!=e?{name:"preset",zoom:e.zoom,pan:e.pan}:{name:"random"},style:this.createStyle(),minZoom:.01,maxZoom:10,wheelSensitivity:.5}),this.cy.on("zoom",function(){l.setFontSize(l.fontSize),l.sliding||l.updateSlider()}),this.cy.on("select",function(n){return l.setSelected(n.target.id(),!0)}),this.cy.on("unselect",function(n){return l.setSelected(n.target.id(),!1)}),this.cy.on("position",function(n){return l.tracingService.getStationsById([n.target.id()])[0].position=n.target.position()}),this.cy.on("cxttap",function(n){var e=n.target,t={x:n.originalEvent.offsetX,y:n.originalEvent.offsetY};e===l.cy?(l.contextMenuElement=null,S.a.openMenu(l.graphMenuTrigger,l.graphMenuTriggerElement,t)):e.isNode()?(l.contextMenuElement=e,l.stationMenuActions=l.createStationActions(e),S.a.openMenu(l.stationMenuTrigger,l.stationMenuTriggerElement,t)):e.isEdge()&&(l.contextMenuElement=e,l.deliveryMenuActions=l.createDeliveryActions(e),S.a.openMenu(l.deliveryMenuTrigger,l.deliveryMenuTriggerElement,t))}),this.hoverDeliveries.subscribe(function(n){for(var e=new Set,t=0,i=n;t<i.length;t++){var o=i[t];e.add(l.mergeToMap.has(o)?l.mergeToMap.get(o):o)}l.cy.batch(function(){l.hoverableEdges.filter(function(n){return!e.has(n.id())}).scratch("_active",!1),l.hoverableEdges.filter(function(n){return e.has(n.id())}).scratch("_active",!0)})}),this.setFontSize(this.fontSize),this.setShowLegend(this.showLegend),this.updateSlider();for(var t=0,i=n.stations;t<i.length;t++){var o=i[t],a=this.cy.getElementById(o.id).position();null!=a&&(o.position=a)}},n.prototype.onChange=function(n){this.changeFunction=n},n.prototype.getLayout=function(){return null!=this.cy?{zoom:this.cy.zoom(),pan:this.cy.pan()}:null},n.prototype.getCanvas=function(){var n=this;return new Promise(function(e){m()(n.containerElement.nativeElement,{onrendered:function(n){e(n)}})})},n.prototype.setMergeDeliveries=function(n){this.mergeDeliveries=n,null!=this.cy&&this.updateEdges()},n.prototype.setNodeSize=function(n){this.nodeSize=n,null!=this.cy&&this.updateProperties()},n.prototype.setFontSize=function(e){if(this.fontSize=e,null!=this.cy){var l=n.FONT_SIZES.get(e);this.cy.nodes().style({"font-size":Math.max(l/this.cy.zoom(),l)})}},n.prototype.setShowLegend=function(n){this.showLegend=n},n.prototype.setShowZoom=function(n){this.showZoom=n},n.prototype.updateSelection=function(){var n=this;null!=this.cy&&(this.selectTimerActivated=!1,this.mergeDeliveries?(this.updateEdges(),this.cy.batch(function(){n.cy.nodes(":selected[!selected]").unselect(),n.cy.nodes(":unselected[?selected]").select()})):this.cy.batch(function(){n.cy.elements(":selected[!selected]").unselect(),n.cy.elements(":unselected[?selected]").select()}),this.selectTimerActivated=!0)},n.prototype.zoomInPressed=function(){this.zoomTo(this.cy.zoom()*n.ZOOM_FACTOR)},n.prototype.zoomOutPressed=function(){this.zoomTo(this.cy.zoom()/n.ZOOM_FACTOR)},n.prototype.zoomResetPressed=function(){0===this.cy.elements().size()?this.cy.reset():(this.cy.nodes().style({"font-size":0}),this.cy.fit())},n.prototype.sliderChanged=function(){this.sliding=!0,this.zoomTo(Math.exp(this.slider.value/100*Math.log(this.cy.maxZoom()/this.cy.minZoom()))*this.cy.minZoom()),this.sliding=!1},n.prototype.createNodes=function(){for(var n=[],e=0,l=this.data.stations;e<l.length;e++){var t=l[e];t.contained||t.invisible||n.push({group:"nodes",data:t,selected:t.selected,position:t.position})}return n},n.prototype.createEdges=function(){var n=this,e=[];if(this.mergeMap=new Map,this.mergeToMap=new Map,this.mergeDeliveries){for(var l=new Map,t=0,i=this.data.deliveries;t<i.length;t++){var o=i[t];if(!o.invisible){var a=o.source+T.a.ARROW_STRING+o.target,r=l.get(a);l.set(a,null==r?[o]:r.concat(o))}}l.forEach(function(l,t){if(1===l.length)e.push({group:"edges",data:l[0],selected:l[0].selected});else{var i=l.find(function(n){return n.observed!==R.a.NONE}),o=null!=l.find(function(n){return n.selected});l.forEach(function(e){return n.mergeToMap.set(e.id,t)}),n.mergeMap.set(t,l.map(function(n){return n.id})),e.push({group:"edges",data:{id:t,name:t,lot:null,date:null,source:l[0].source,target:l[0].target,originalSource:l[0].source,originalTarget:l[0].target,invisible:!1,selected:o,observed:null!=i?i.observed:R.a.NONE,forward:null!=l.find(function(n){return n.forward}),backward:null!=l.find(function(n){return n.backward}),score:0,properties:[]},selected:o})}})}else for(var u=0,d=this.data.deliveries;u<d.length;u++){var o=d[u];o.invisible||e.push({group:"edges",data:o,selected:o.selected})}return e},n.prototype.updateEdges=function(){var n=this;this.cy.batch(function(){n.cy.edges().remove(),n.cy.add(n.createEdges())})},n.prototype.updateProperties=function(){this.mergeDeliveries?(this.updateEdges(),this.cy.nodes().scratch("_update",!0)):this.cy.elements().scratch("_update",!0)},n.prototype.updateAll=function(){for(var n=this,e=0,l=this.data.stations;e<l.length;e++){var t=l[e];if(t.contained||null==t.positionRelativeTo){if(null==t.position&&null!=t.contains){for(var i=0,o=this.tracingService.getStationsById(t.contains);i<o.length;i++){var a=o[i];null!=a.positionRelativeTo&&(a.position=S.a.sum(this.cy.getElementById(a.positionRelativeTo).position(),a.position),a.positionRelativeTo=null)}t.position=S.a.getCenter(t.contains.map(function(e){return n.tracingService.getStationsById([e])[0].position}));for(var r=0,u=this.tracingService.getStationsById(t.contains);r<u.length;r++){var a=u[r];a.position=S.a.difference(a.position,t.position),a.positionRelativeTo=t.id}}}else t.position=S.a.sum(this.cy.getElementById(t.positionRelativeTo).position(),t.position),t.positionRelativeTo=null}this.cy.batch(function(){n.cy.elements().remove(),n.cy.add(n.createNodes()),n.cy.add(n.createEdges()),n.setFontSize(n.fontSize)})},n.prototype.createStyle=function(){for(var e=this,l=function(l){var t=n.NODE_SIZES.get(e.nodeSize);return e.tracingService.getMaxScore()>0?(.5+.5*l.data("score")/e.tracingService.getMaxScore())*t:t},t=r.a.stylesheet().selector("*").style({"overlay-color":"rgb(0, 0, 255)","overlay-padding":10,"overlay-opacity":function(n){return n.scratch("_active")?.5:0}}).selector("node").style({content:"data(name)",height:l,width:l,"background-color":"rgb(255, 255, 255)","border-width":3,"border-color":"rgb(0, 0, 0)","text-valign":"bottom","text-halign":"right",color:"rgb(0, 0, 0)"}).selector("edge").style({"target-arrow-shape":"triangle",width:6,"line-color":"rgb(0, 0, 0)","target-arrow-color":"rgb(255, 0, 0)","curve-style":"bezier"}).selector("node:selected").style({"background-color":"rgb(128, 128, 255)","border-width":6,"border-color":"rgb(0, 0, 255)",color:"rgb(0, 0, 255)"}).selector("edge:selected").style({width:12}).selector("node[?contains]").style({"border-width":6}).selector("node:selected[?contains]").style({"border-width":9}).selector(":active").style({"overlay-opacity":.5}),i=function(n){return"observed"===n?"["+n+' != "'+R.a.NONE+'"]':"[?"+n+"]"},o=function(n){var e={};if(1===n.length)e["background-color"]=S.a.colorToCss(n[0]);else for(var l=0;l<n.length;l++)e["pie-"+(l+1)+"-background-color"]=S.a.colorToCss(n[l]),e["pie-"+(l+1)+"-background-size"]=100/n.length;return e},a=0,u=S.a.getAllCombinations(T.a.PROPERTIES_WITH_COLORS.toArray());a<u.length;a++){for(var d=u[a],s=[],c=[],g=[],h=0,f=d;h<f.length;h++){var m=f[h],p=T.a.PROPERTIES.get(m).color;s.push(i(m)),c.push(p),g.push(S.a.mixColors(p,{r:0,g:0,b:255}))}t=t.selector("node"+s.join("")).style(o(c)),t=t.selector("node:selected"+s.join("")).style(o(g))}for(var v=0,b=T.a.PROPERTIES_WITH_COLORS.toArray();v<b.length;v++){var m=b[v];t=t.selector("edge"+i(m)).style({"line-color":S.a.colorToCss(T.a.PROPERTIES.get(m).color)})}return t},n.prototype.setSelected=function(n,e){var l=this;if(this.mergeMap.has(n))for(var t=0,i=this.mergeMap.get(n);t<i.length;t++){var a=i[t];this.tracingService.setSelected(a,e)}else this.tracingService.setSelected(n,e);this.selectTimerActivated&&(null!=this.selectTimer&&this.selectTimer.unsubscribe(),this.selectTimer=o.Observable.timer(50).subscribe(function(){return l.callChangeFunction()}))},n.prototype.createGraphActions=function(){var n=this;return[{name:"Apply Layout",enabled:!0,action:function(e){return S.a.openMenu(n.layoutMenuTrigger,n.layoutMenuTriggerElement,n.getCyCoordinates(e))}},{name:"Clear Trace",enabled:!0,action:function(){n.tracingService.clearTrace(),n.updateProperties(),n.callChangeFunction()}},{name:"Clear Outbreak Stations",enabled:!0,action:function(){n.tracingService.clearOutbreakStations(),n.setNodeSize(n.nodeSize),n.callChangeFunction()}},{name:"Clear Invisibility",enabled:!0,action:function(){n.tracingService.clearInvisibility(),n.updateAll(),n.callChangeFunction()}}]},n.prototype.createStationActions=function(n){var e=this,l=null,t=!1,i=!1,o=!1,a=!1;return null!=this.cy&&null!=n&&(l=this.cy.nodes(":selected"),t=n.selected()&&l.size()>1,i=t?l.allAre("[?outbreak]"):n.data("outbreak"),o=t?l.allAre("[?crossContamination]"):n.data("crossContamination"),a=t?l.allAre("[?contains]"):n.data("contains")),[{name:"Show Properties",enabled:!t,action:function(){for(var l=e.tracingService.getStationsById([n.id()])[0],t=new Map,i=new Map,o=0,a=e.tracingService.getDeliveriesById(l.incoming);o<a.length;o++){var r=a[o];t.set(r.id,r),i.set(r.source,e.tracingService.getStationsById([r.source])[0])}for(var u=0,d=e.tracingService.getDeliveriesById(l.outgoing);u<d.length;u++){var r=d[u];t.set(r.id,r),i.set(r.target,e.tracingService.getStationsById([r.target])[0])}var s={station:l,deliveries:t,connectedStations:i,hoverDeliveries:e.hoverDeliveries};e.hoverableEdges=n.connectedEdges(),e.dialogService.open(y.a,{data:s}).afterClosed().subscribe(function(l){e.updateOverlay(),l&&(e.tracingService.setConnectionsOfStation(n.id(),l),e.updateProperties())})}},{name:"Show Trace",enabled:!t,action:function(l){e.traceMenuActions=e.createTraceActions(n),S.a.openMenu(e.traceMenuTrigger,e.traceMenuTriggerElement,e.getCyCoordinates(l))}},{name:i?"Unmark as Outbreak":"Mark as Outbreak",enabled:!0,action:function(){e.tracingService.markStationsAsOutbreak(t?l.map(function(n){return n.id()}):[n.id()],!i),e.setNodeSize(e.nodeSize),e.callChangeFunction()}},{name:o?"Unset Cross Contamination":"Set Cross Contamination",enabled:!0,action:function(){e.tracingService.setCrossContaminationOfStations(t?l.map(function(n){return n.id()}):[n.id()],!o),e.updateProperties(),e.setNodeSize(e.nodeSize),e.callChangeFunction()}},{name:"Make Invisible",enabled:!0,action:function(){e.tracingService.makeStationsInvisible(t?l.map(function(n){return n.id()}):[n.id()]),e.updateAll(),e.callChangeFunction()}},{name:"Merge Stations",enabled:t,action:function(){var n={title:"Input",message:"Please specify name of meta station:",placeholder:"Name"};e.dialogService.open(b.a,{data:n}).afterClosed().subscribe(function(n){e.updateOverlay(),null!=n&&(e.tracingService.mergeStations(l.map(function(n){return n.id()}),n),e.updateAll(),e.callChangeFunction())})}},{name:"Expand",enabled:a,action:function(){e.tracingService.expandStations(t?l.map(function(n){return n.id()}):n.id()),e.updateAll(),e.callChangeFunction()}}]},n.prototype.createDeliveryActions=function(n){var e=this;return[{name:"Show Properties",enabled:!0,action:function(){if(e.mergeMap.has(n.id()))S.a.showErrorMessage(e.dialogService,"Showing Properties of merged delivery is not supported!").afterClosed().subscribe(function(){return e.updateOverlay()});else{var l={delivery:e.tracingService.getDeliveriesById([n.id()])[0]};e.dialogService.open(E.a,{data:l}).afterClosed().subscribe(function(){return e.updateOverlay()})}}},{name:"Show Trace",enabled:!0,action:function(l){e.mergeMap.has(n.id())?S.a.showErrorMessage(e.dialogService,"Showing Trace of merged delivery is not supported!").afterClosed().subscribe(function(){return e.updateOverlay()}):(e.traceMenuActions=e.createTraceActions(n),S.a.openMenu(e.traceMenuTrigger,e.traceMenuTriggerElement,e.getCyCoordinates(l)))}}]},n.prototype.createLayoutActions=function(){var n=this;return[{name:"Fruchterman-Reingold",enabled:!0,action:function(){return n.cy.layout({name:"fruchterman"}).run()}},{name:"Constraint-Based",enabled:!0,action:function(){var e,l={title:"Layout running",actions:[{name:"Stop",action:function(){return e.stop()}}]},t=n.dialogService.open(v.a,{disableClose:!0,data:l});e=n.cy.layout({name:"cola",ungrabifyWhileSimulating:!0,avoidOverlap:!1,animate:!0,maxSimulationTime:6e4,stop:function(){t.close()}}),e.run()}},{name:"Random",enabled:!0,action:function(){return n.cy.layout({name:"random"}).run()}},{name:"Grid",enabled:!0,action:function(){return n.cy.layout({name:"grid"}).run()}},{name:"Circle",enabled:!0,action:function(){return n.cy.layout({name:"circle"}).run()}},{name:"Concentric",enabled:!0,action:function(){return n.cy.layout({name:"concentric"}).run()}},{name:"Breadth-first",enabled:!0,action:function(){return n.cy.layout({name:"breadthfirst"}).run()}},{name:"Spread",enabled:!0,action:function(){return n.cy.layout({name:"spread"}).run()}},{name:"Directed acyclic graph",enabled:!0,action:function(){return n.cy.layout({name:"dagre"}).run()}}]},n.prototype.createTraceActions=function(n){var e=this;return[{name:"Forward Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationForwardTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryForwardTrace(n.id()),e.updateProperties(),e.callChangeFunction()}},{name:"Backward Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationBackwardTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryBackwardTrace(n.id()),e.updateProperties(),e.callChangeFunction()}},{name:"Full Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryTrace(n.id()),e.updateProperties(),e.callChangeFunction()}}]},n.prototype.callChangeFunction=function(){null!=this.changeFunction&&this.changeFunction()},n.prototype.updateOverlay=function(){if(null!=this.contextMenuElement){var n=this.stationMenuTrigger.menuOpen||this.deliveryMenuTrigger.menuOpen||this.traceMenuTrigger.menuOpen||0!==this.dialogService._openDialogs.length;this.contextMenuElement.scratch("_active",n)}},n.prototype.zoomTo=function(n){(n=Math.min(Math.max(n,this.cy.minZoom()),this.cy.maxZoom()))!==this.cy.zoom()&&this.cy.zoom({level:n,renderedPosition:{x:this.cy.width()/2,y:this.cy.height()/2}})},n.prototype.updateSlider=function(){this.zoomSliderValue=Math.round(Math.log(this.cy.zoom()/this.cy.minZoom())/Math.log(this.cy.maxZoom()/this.cy.minZoom())*100)},n.prototype.getCyCoordinates=function(n){var e=this.cy.container().getBoundingClientRect();return{x:n.pageX-e.left,y:n.pageY-e.top}},n.ctorParameters=function(){return[{type:_.a},{type:i.s},{type:t.ElementRef}]},n}();w.ZOOM_FACTOR=1.5,w.NODE_SIZES=new Map([[R.f.SMALL,50],[R.f.MEDIUM,75],[R.f.LARGE,100]]),w.FONT_SIZES=new Map([[R.f.SMALL,10],[R.f.MEDIUM,14],[R.f.LARGE,18]])},ISd6:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[""]},NZlp:function(n,e,l){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,7,"md-checkbox",[["class","mat-checkbox"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0;if("ngModelChange"===e){t=!1!==(n.context.$implicit.selected=l)&&t}return t},u.r,u.s)),r["ɵdid"](4374528,null,0,d._15,[r.Renderer2,r.ElementRef,r.ChangeDetectorRef,d.h],null,null),r["ɵprd"](1024,null,s.d,function(n){return[n]},[d._15]),r["ɵdid"](671744,null,0,s.j,[[8,null],[8,null],[8,null],[2,s.d]],{model:[0,"model"]},{update:"ngModelChange"}),r["ɵprd"](2048,null,s.e,null,[s.j]),r["ɵdid"](16384,null,0,s.k,[s.e],null,null),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),(n()(),r["ɵted"](0,["",""]))],function(n,e){n(e,3,0,e.context.$implicit.selected)},function(n,e){n(e,0,1,[r["ɵnov"](e,1).indeterminate,r["ɵnov"](e,1).checked,r["ɵnov"](e,1).disabled,"before"==r["ɵnov"](e,1).labelPosition,r["ɵnov"](e,5).ngClassUntouched,r["ɵnov"](e,5).ngClassTouched,r["ɵnov"](e,5).ngClassPristine,r["ɵnov"](e,5).ngClassDirty,r["ɵnov"](e,5).ngClassValid,r["ɵnov"](e,5).ngClassInvalid,r["ɵnov"](e,5).ngClassPending]),n(e,7,0,e.context.$implicit.viewValue)})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,2,"h1",[["class","mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,d._103,[],null,null),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,8,"div",[["class","mat-dialog-content"],["md-dialog-content",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,d._104,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,4,"div",[["class","checkboxes"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](802816,null,0,c.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,14,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,d._106,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.close()&&t}return t},u.b,u.c)),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,d._0,[r.Renderer2,r.ElementRef,d.b,d.h],null,null),r["ɵdid"](16384,null,0,d._9,[],null,null),(n()(),r["ɵted"](0,["OK"])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.dialogRef.close()&&t}return t},u.b,u.c)),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,d._0,[r.Renderer2,r.ElementRef,d.b,d.h],null,null),r["ɵdid"](16384,null,0,d._9,[],null,null),(n()(),r["ɵted"](0,["Cancel"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"]))],function(n,e){n(e,10,0,e.component.options)},function(n,e){n(e,2,0,e.component.data.title),n(e,17,0,r["ɵnov"](e,19).disabled||null),n(e,23,0,r["ɵnov"](e,25).disabled||null)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-dialog-select",[],null,null,null,i,f)),r["ɵdid"](49152,null,0,g.a,[d._100,d.X],null,null)],null,null)}var a=l("DOm0"),r=l("/oeL"),u=l("v6Q/"),d=l("Z04r"),s=l("bm2B"),c=l("qbdv"),g=l("Zry1");l.d(e,"a",function(){return m});var h=[a.a],f=r["ɵcrt"]({encapsulation:0,styles:h,data:{}}),m=r["ɵccf"]("app-dialog-select",g.a,o,{},{},[])},NhKt:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=["[_nghost-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%}.sidenav-elements[_ngcontent-%COMP%], [_nghost-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.sidenav-elements[_ngcontent-%COMP%]{padding:8px 16px}.sidenav-elements[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:8px 0}.sidenav-elements[_ngcontent-%COMP%] > md-select[_ngcontent-%COMP%]{width:100%;margin-top:20px}.sidenav-elements[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%}.sidenav-elements[_ngcontent-%COMP%] > md-radio-group[_ngcontent-%COMP%] > md-radio-button[_ngcontent-%COMP%]:not(:last-child){margin-right:8px}.toolbarSpan[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}#mainToolbar[_ngcontent-%COMP%]{z-index:3}#mainContainer[_ngcontent-%COMP%]{width:100%;height:calc(100% - 56px)}#mainContent[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}#leftSidenav[_ngcontent-%COMP%]{background-color:#f5f5f5;z-index:2}#rightSidenav[_ngcontent-%COMP%]{background-color:#f5f5f5;min-width:200px;z-index:1}#rightSidenavContent[_ngcontent-%COMP%]{width:100%;-webkit-box-orient:horizontal;-ms-flex-direction:row;flex-direction:row}#rightSidenavContent[_ngcontent-%COMP%], #sidenavSlider[_ngcontent-%COMP%]{height:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-direction:normal}#sidenavSlider[_ngcontent-%COMP%]{width:10px;cursor:ew-resize;background-color:#c8c8c8;-webkit-box-orient:vertical;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}#sidenavSliderCenter[_ngcontent-%COMP%]{width:100%;height:50px;background-color:#646464}#homeButton[_ngcontent-%COMP%]{font-size:20px}#fileInput[_ngcontent-%COMP%]{display:none}app-gis[_ngcontent-%COMP%], app-graph[_ngcontent-%COMP%]{width:100%;height:100%}app-table[_ngcontent-%COMP%]{width:calc(100% - 10px);height:100%}"]},O11v:function(n,e,l){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,7,"tr",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n          "])),(n()(),r["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n        "]))],null,function(n,e){n(e,3,0,e.context.$implicit.name),n(e,6,0,e.context.$implicit.value)})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,29,"h1",[["class","title mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,u._103,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,9,"button",[["class","mat-icon-button"],["id","leftButton"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.moveLeft()&&t}return t},s.b,s.c)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,u._0,[r.Renderer2,r.ElementRef,u.b,u.h],null,null),r["ɵdid"](16384,null,0,u._1,[],null,null),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,s.d,s.e)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](638976,null,0,u._2,[r.Renderer2,r.ElementRef,u.t,[8,null]],null,null),(n()(),r["ɵted"](0,["keyboard_arrow_left"])),(n()(),r["ɵted"](0,["\n  "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,0,"span",[["class","titleSpan"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,9,"button",[["class","mat-icon-button"],["id","rightButton"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.moveRight()&&t}return t},s.b,s.c)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,u._0,[r.Renderer2,r.ElementRef,u.b,u.h],null,null),r["ɵdid"](16384,null,0,u._1,[],null,null),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,s.d,s.e)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](638976,null,0,u._2,[r.Renderer2,r.ElementRef,u.t,[8,null]],null,null),(n()(),r["ɵted"](0,["keyboard_arrow_right"])),(n()(),r["ɵted"](0,["\n  "])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,25,"div",[["class","mat-dialog-content"],["md-dialog-content",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,u._104,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,21,"md-card",[["class","mat-card"],["id","properties"]],null,null,null,s.x,s.y)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](49152,null,0,u._53,[],null,null),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵeld"](0,null,0,3,"md-card-title",[["class","mat-card-title "]],null,null,null,null,null)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](16384,null,0,u._105,[],null,null),(n()(),r["ɵted"](null,["Properties"])),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵeld"](0,null,0,10,"md-card-content",[["class","mat-card-content"]],null,null,null,null,null)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](16384,null,0,u._101,[],null,null),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵeld"](0,null,null,5,"table",[],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n        "])),(n()(),r["ɵeld"](0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](802816,null,0,c.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,["\n      "])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵted"](0,["\n  "])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,9,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,u._106,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,5,"button",[["class","mat-button"],["md-button",""],["md-dialog-close",""],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==r["ɵnov"](n,65).dialogRef.close(r["ɵnov"](n,65).dialogResult)&&t}return t},s.b,s.c)),r["ɵdid"](16384,null,0,u.Y,[[2,u.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,u._0,[r.Renderer2,r.ElementRef,u.b,u.h],null,null),r["ɵdid"](16384,null,0,u._9,[],null,null),r["ɵdid"](16384,null,0,u._107,[u._100],{dialogResult:[0,"dialogResult"]},null),(n()(),r["ɵted"](0,["OK"])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n\n"]))],function(n,e){var l=e.component;n(e,10,0),n(e,26,0),n(e,52,0,l.properties);n(e,65,0,"")},function(n,e){var l=e.component;n(e,3,0,r["ɵnov"](e,5).disabled||null),n(e,15,0,l.title),n(e,19,0,r["ɵnov"](e,21).disabled||null),n(e,61,0,r["ɵnov"](e,63).disabled||null,r["ɵnov"](e,65).ariaLabel)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-delivery-properties",[],null,null,null,i,h)),r["ɵdid"](114688,null,0,d.a,[u._100,u.X],null,null)],function(n,e){n(e,1,0)},null)}var a=l("E4ME"),r=l("/oeL"),u=l("Z04r"),d=l("UAJL"),s=l("v6Q/"),c=l("qbdv");l.d(e,"a",function(){return f});var g=[a.a],h=r["ɵcrt"]({encapsulation:0,styles:g,data:{}}),f=r["ɵccf"]("app-delivery-properties",d.a,o,{},{},[])},UAJL:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r"),o=l("15l/"),a=l("VR9T"),r=l("bsaU");l.d(e,"a",function(){return u});var u=function(){function n(n,e){this.dialogRef=n,this.data=e,this.dialogAlign=o.b.CENTER,this.title=e.delivery.name,this.properties=Object.keys(e.delivery).filter(function(n){return a.a.PROPERTIES.has(n)&&"name"!==n}).map(function(n){var l=e.delivery[n];return{name:a.a.PROPERTIES.get(n).name,value:null!=l?String(l):""}}).concat(e.delivery.properties.map(function(n){return{name:'"'+n.name+'"',value:null!=n.value?n.value:""}}))}return n.prototype.ngOnInit=function(){this.dialogRef.updatePosition(r.a.getDialogPosition(this.dialogAlign))},n.prototype.moveLeft=function(){this.dialogAlign=this.dialogAlign===o.b.RIGHT?o.b.CENTER:o.b.LEFT,this.dialogRef.updatePosition(r.a.getDialogPosition(this.dialogAlign))},n.prototype.moveRight=function(){this.dialogAlign=this.dialogAlign===o.b.LEFT?o.b.CENTER:o.b.RIGHT,this.dialogRef.updatePosition(r.a.getDialogPosition(this.dialogAlign))},n.ctorParameters=function(){return[{type:i._100},{type:DeliveryPropertiesData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}()},Ucw1:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r");l.d(e,"a",function(){return o});var o=function(){function n(n){this.data=n}return n.ctorParameters=function(){return[{type:DialogAlertData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}()},VR9T:function(n,e,l){"use strict";var t=l("15l/"),i=l("2xpM");l.n(i);l.d(e,"a",function(){return o});var o=function(){function n(){}return n}();o.STATION_DATA={id:null,name:null,lat:null,lon:null,incoming:null,outgoing:null,connections:null,invisible:null,contained:null,contains:null,selected:null,observed:null,forward:null,backward:null,outbreak:null,crossContamination:null,score:null,commonLink:null,position:null,positionRelativeTo:null,properties:null},o.DELIVERY_DATA={id:null,name:null,lot:null,date:null,source:null,target:null,originalSource:null,originalTarget:null,invisible:null,selected:null,observed:null,forward:null,backward:null,score:null,properties:null},o.ARROW_STRING="->",o.STATION_PROPERTIES=l.i(i.List)(Object.keys(o.STATION_DATA)),o.DELIVERY_PROPERTIES=l.i(i.List)(Object.keys(o.DELIVERY_DATA)),o.PROPERTIES=l.i(i.Map)({id:{name:"ID",color:null},name:{name:"Name",color:null},lot:{name:"Lot",color:null},date:{name:"Date",color:null},source:{name:"Source",color:null},target:{name:"Target",color:null},originalSource:{name:"Original Source",color:null},originalTarget:{name:"Original Target",color:null},incoming:{name:"Incoming",color:null},outgoing:{name:"Outgoing",color:null},contains:{name:"Contains",color:null},forward:{name:"Forward Trace",color:{r:150,g:255,b:75}},backward:{name:"Backward Trace",color:{r:255,g:150,b:75}},observed:{name:"Observed",color:{r:75,g:150,b:255}},outbreak:{name:"Outbreak",color:{r:255,g:50,b:50}},crossContamination:{name:"Cross Contamination",color:{r:150,g:150,b:150}},commonLink:{name:"Common Link",color:{r:255,g:255,b:75}},score:{name:"Score",color:null}}),o.PROPERTIES_WITH_COLORS=l.i(i.List)(o.PROPERTIES.filter(function(n){return null!=n.color}).keys()),o.GRAPH_TYPES=i.List.of(t.d.GRAPH,t.d.GIS),o.TABLE_MODES=i.List.of(t.c.STATIONS,t.c.DELIVERIES),o.SHOW_TYPES=i.List.of(t.e.ALL,t.e.SELECTED_ONLY,t.e.TRACE_ONLY),o.SIZES=i.List.of(t.f.SMALL,t.f.MEDIUM,t.f.LARGE),o.DEFAULT_GRAPH_TYPE=t.d.GRAPH,o.DEFAULT_GRAPH_NODE_SIZE=t.f.MEDIUM,o.DEFAULT_GRAPH_FONT_SIZE=t.f.MEDIUM,o.DEFAULT_GRAPH_MERGE_DELIVERIES=!1,o.DEFAULT_GRAPH_SHOW_LEGEND=!0,o.DEFAULT_GRAPH_SHOW_ZOOM=!0,o.DEFAULT_TABLE_MODE=t.c.STATIONS,o.DEFAULT_TABLE_WIDTH=.25,o.DEFAULT_TABLE_STATION_COLUMNS=i.List.of("id","name","score"),o.DEFAULT_TABLE_DELIVERY_COLUMNS=i.List.of("id","source","target","score"),o.DEFAULT_TABLE_SHOW_TYPE=t.e.ALL},YCPO:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r");l.d(e,"a",function(){return o});var o=function(){function n(n,e){this.dialogRef=n,this.data=e}return n.ctorParameters=function(){return[{type:i._100},{type:DialogPromptData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}()},Zry1:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r");l.d(e,"a",function(){return o});var o=function(){function n(n,e){this.dialogRef=n,this.data=e,this.options=JSON.parse(JSON.stringify(e.options))}return n.prototype.close=function(){this.dialogRef.close(this.options.filter(function(n){return n.selected}).map(function(n){return n.value}))},n.ctorParameters=function(){return[{type:i._100},{type:DialogSelectData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}()},"aR8+":function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=function(){function n(){}return n}()},ahdB:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=["#container[_ngcontent-%COMP%]{width:100%;height:100%}#map[_ngcontent-%COMP%]{z-index:0}#graph[_ngcontent-%COMP%], #map[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}#graph[_ngcontent-%COMP%]{z-index:1}#zoom[_ngcontent-%COMP%]{z-index:2;color:#666;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#zoom-in[_ngcontent-%COMP%], #zoom-out[_ngcontent-%COMP%], #zoom-reset[_ngcontent-%COMP%]{position:absolute;z-index:1;left:16px}#zoom-in[_ngcontent-%COMP%]{top:69px}#zoom-out[_ngcontent-%COMP%]{top:239px}#zoom-reset[_ngcontent-%COMP%]{top:20px}#zoom-slider[_ngcontent-%COMP%]{position:absolute;z-index:1;top:110px;left:12px;height:90px}#legend[_ngcontent-%COMP%]{z-index:20;position:absolute;left:16px;bottom:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:30px;line-height:30px;white-space:nowrap}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:20px}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:30px;min-width:30px}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   div[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #999}"]},bfTB:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r");l.d(e,"a",function(){return o});var o=function(){function n(n){this.data=n}return n.ctorParameters=function(){return[{type:DialogActionsData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}()},bsaU:function(n,e,l){"use strict";var t=l("15l/"),i=l("HmWU"),o=(l.n(i),l("Ucw1")),a=l("VR9T");l.d(e,"a",function(){return r});var r=function(){function n(){}return n.latLonToPosition=function(e,l,t){var o=i.proj.fromLonLat([l,e]);return{x:o[0]/n.CY_TO_OL_FACTOR*t,y:-o[1]/n.CY_TO_OL_FACTOR*t}},n.panZoomToView=function(e,l,t,o){return new i.View({center:[(t/2-e.x)/l*n.CY_TO_OL_FACTOR,-(o/2-e.y)/l*n.CY_TO_OL_FACTOR],resolution:n.CY_TO_OL_FACTOR/l})},n.getDialogPosition=function(n){switch(n){case t.b.LEFT:return{left:"0px"};case t.b.CENTER:return{};case t.b.RIGHT:return{right:"0px"}}return null},n.getTableElements=function(n,e){return n===t.c.STATIONS?e.stations:n===t.c.DELIVERIES?e.deliveries:null},n.getTableProperties=function(n,e,l){return n===t.c.STATIONS?e:n===t.c.DELIVERIES?l:null},n.getAllTableProperties=function(e,l){var i;e===t.c.STATIONS?i=a.a.STATION_PROPERTIES.toArray():e===t.c.DELIVERIES&&(i=a.a.DELIVERY_PROPERTIES.toArray());for(var o=new Set,r=0,u=n.getTableElements(e,l);r<u.length;r++)for(var d=u[r],s=0,c=d.properties;s<c.length;s++){var g=c[s];o.add(g.name)}return i.filter(function(n){return a.a.PROPERTIES.has(n)}).concat(Array.from(o))},n.openSaveDialog=function(n,e){var l=document.createElement("a");l.style.display="none",l.target="_blank",l.href=n,l.download=e,document.body.appendChild(l),l.click(),l.remove()},n.showErrorMessage=function(n,e){var l={title:"Error",message:e};return n.open(o.a,{role:"alertdialog",data:l})},n.openMenu=function(n,e,l){var t=e.nativeElement.style;t.position="fixed",t.left=l.x+"px",t.top=l.y+"px",n.openMenu()},n.colorToCss=function(n){return"rgb("+n.r+", "+n.g+", "+n.b+")"},n.mixColors=function(n,e){return{r:Math.round((n.r+e.r)/2),g:Math.round((n.g+e.g)/2),b:Math.round((n.b+e.b)/2)}},n.getAllCombinations=function(n){for(var e=Math.pow(2,n.length),l=[],t=1;t<e;t++){for(var i=t.toString(2).split("").reverse().join(""),o=[],a=0;a<n.length;a++)"1"===i[a]&&o.push(n[a]);l.push(o)}return l.sort(function(n,e){return n.length-e.length}),l},n.getCenter=function(n){for(var e=0,l=0,t=0,i=n;t<i.length;t++){var o=i[t];e+=o.x,l+=o.y}return{x:e/n.length,y:l/n.length}},n.sum=function(n,e){return{x:n.x+e.x,y:n.y+e.y}},n.difference=function(n,e){return{x:n.x-e.x,y:n.y-e.y}},n.stringToDate=function(n){if(null!=n){var e=new Date(n);if(isNaN(e.getTime()))throw new SyntaxError("Invalid date: "+n);return e}return null},n.dateToString=function(n){if(null!=n){var e=n.toISOString();return e.substring(0,e.indexOf("T"))}return null},n}();r.CY_TO_OL_FACTOR=1e4},cAlW:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[".title[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.titleSpan[_ngcontent-%COMP%]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.leftButton[_ngcontent-%COMP%]{margin-right:20px}.rightButton[_ngcontent-%COMP%]{margin-left:20px}md-card[_ngcontent-%COMP%]{margin:10px 0}md-card[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px}td[_ngcontent-%COMP%]:first-child{padding-right:40px}"]},cDNt:function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=l("/oeL"),i=l("p5Ee"),o=l("+h1B"),a=l("fc+i");i.a.production&&l.i(t.enableProdMode)(),l.i(a.platformBrowser)().bootstrapModuleFactory(o.a)},cTBr:function(n,e,l){"use strict";function t(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,2,"h1",[["class","mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._103,[],null,null),(n()(),a["ɵted"](null,["",""])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,23,"div",[["class","mat-dialog-content"],["md-dialog-content",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._104,[],null,null),(n()(),a["ɵted"](null,["\n  "])),(n()(),a["ɵeld"](0,null,null,1,"span",[],null,null,null,null,null)),(n()(),a["ɵted"](null,["",""])),(n()(),a["ɵted"](null,["\n  "])),(n()(),a["ɵeld"](0,null,null,16,"md-input-container",[["class","mat-input-container"]],[[1,"align",0],[2,"mat-input-invalid",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==a["ɵnov"](n,11)._focusInput()&&t}return t},u.t,u.u)),a["ɵdid"](7389184,null,6,r._17,[a.ElementRef,a.ChangeDetectorRef,[2,r._14]],null,null),a["ɵqud"](335544320,1,{_mdInputChild:0}),a["ɵqud"](335544320,2,{_placeholderChild:0}),a["ɵqud"](603979776,3,{_errorChildren:1}),a["ɵqud"](603979776,4,{_hintChildren:1}),a["ɵqud"](603979776,5,{_prefixChildren:1}),a["ɵqud"](603979776,6,{_suffixChildren:1}),(n()(),a["ɵted"](1,["\n    "])),(n()(),a["ɵeld"](0,null,1,6,"input",[["class","mat-input-element"],["mdInput",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[8,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,l){var t=!0,i=n.component;if("input"===e){t=!1!==a["ɵnov"](n,20)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==a["ɵnov"](n,20).onTouched()&&t}if("compositionstart"===e){t=!1!==a["ɵnov"](n,20)._compositionStart()&&t}if("compositionend"===e){t=!1!==a["ɵnov"](n,20)._compositionEnd(l.target.value)&&t}if("blur"===e){t=!1!==a["ɵnov"](n,25)._onBlur()&&t}if("focus"===e){t=!1!==a["ɵnov"](n,25)._onFocus()&&t}if("input"===e){t=!1!==a["ɵnov"](n,25)._onInput()&&t}if("ngModelChange"===e){t=!1!==(i.value=l)&&t}return t},null,null)),a["ɵdid"](16384,null,0,s.l,[a.Renderer,a.ElementRef,[2,s.m]],null,null),a["ɵprd"](1024,null,s.d,function(n){return[n]},[s.l]),a["ɵdid"](671744,null,0,s.j,[[8,null],[8,null],[8,null],[2,s.d]],{model:[0,"model"]},{update:"ngModelChange"}),a["ɵprd"](2048,null,s.e,null,[s.j]),a["ɵdid"](16384,null,0,s.k,[s.e],null,null),a["ɵdid"](16384,[[1,4]],0,r._18,[a.ElementRef,a.Renderer2,r.b,[2,s.e],[2,s.f],[2,s.g]],{placeholder:[0,"placeholder"]},null),(n()(),a["ɵted"](1,["\n  "])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵeld"](0,null,null,14,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),a["ɵdid"](16384,null,0,r._106,[],null,null),(n()(),a["ɵted"](null,["\n  "])),(n()(),a["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.dialogRef.close(i.value)&&t}return t},u.b,u.c)),a["ɵdid"](16384,null,0,r.Y,[[2,r.Z],a.ElementRef],null,null),a["ɵdid"](180224,null,0,r._0,[a.Renderer2,a.ElementRef,r.b,r.h],null,null),a["ɵdid"](16384,null,0,r._9,[],null,null),(n()(),a["ɵted"](0,["OK"])),(n()(),a["ɵted"](null,["\n  "])),(n()(),a["ɵeld"](0,null,null,4,"button",[["class","mat-button"],["md-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.dialogRef.close()&&t}return t},u.b,u.c)),a["ɵdid"](16384,null,0,r.Y,[[2,r.Z],a.ElementRef],null,null),a["ɵdid"](180224,null,0,r._0,[a.Renderer2,a.ElementRef,r.b,r.h],null,null),a["ɵdid"](16384,null,0,r._9,[],null,null),(n()(),a["ɵted"](0,["Cancel"])),(n()(),a["ɵted"](null,["\n"])),(n()(),a["ɵted"](null,["\n"]))],function(n,e){var l=e.component;n(e,22,0,l.value),n(e,25,0,a["ɵinlineInterpolate"](1,"",l.data.placeholder,""))},function(n,e){var l=e.component;n(e,2,0,l.data.title),n(e,8,0,l.data.message);n(e,10,0,null,a["ɵnov"](e,11)._mdInputChild._isErrorState(),a["ɵnov"](e,11)._mdInputChild.focused,a["ɵnov"](e,11)._shouldForward("untouched"),a["ɵnov"](e,11)._shouldForward("touched"),a["ɵnov"](e,11)._shouldForward("pristine"),a["ɵnov"](e,11)._shouldForward("dirty"),a["ɵnov"](e,11)._shouldForward("valid"),a["ɵnov"](e,11)._shouldForward("invalid"),a["ɵnov"](e,11)._shouldForward("pending")),n(e,19,1,[a["ɵnov"](e,24).ngClassUntouched,a["ɵnov"](e,24).ngClassTouched,a["ɵnov"](e,24).ngClassPristine,a["ɵnov"](e,24).ngClassDirty,a["ɵnov"](e,24).ngClassValid,a["ɵnov"](e,24).ngClassInvalid,a["ɵnov"](e,24).ngClassPending,a["ɵnov"](e,25).id,a["ɵnov"](e,25).placeholder,a["ɵnov"](e,25).disabled,a["ɵnov"](e,25).required,a["ɵnov"](e,25).ariaDescribedby||null,a["ɵnov"](e,25)._isErrorState()]),n(e,32,0,a["ɵnov"](e,34).disabled||null),n(e,38,0,a["ɵnov"](e,40).disabled||null)})}function i(n){return a["ɵvid"](0,[(n()(),a["ɵeld"](0,null,null,1,"app-dialog-prompt",[],null,null,null,t,g)),a["ɵdid"](49152,null,0,d.a,[r._100,r.X],null,null)],null,null)}var o=l("yu+Z"),a=l("/oeL"),r=l("Z04r"),u=l("v6Q/"),d=l("YCPO"),s=l("bm2B");l.d(e,"a",function(){return h});var c=[o.a],g=a["ɵcrt"]({encapsulation:0,styles:c,data:{}}),h=a["ɵccf"]("app-dialog-prompt",d.a,i,{},{},[])},gBzr:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=["#container[_ngcontent-%COMP%]{background-color:#f5f5f5}#container[_ngcontent-%COMP%], #graph[_ngcontent-%COMP%]{width:100%;height:100%}#zoom[_ngcontent-%COMP%]{color:#666;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#zoom-in[_ngcontent-%COMP%], #zoom-out[_ngcontent-%COMP%], #zoom-reset[_ngcontent-%COMP%]{position:absolute;z-index:1;left:16px}#zoom-in[_ngcontent-%COMP%]{top:69px}#zoom-out[_ngcontent-%COMP%]{top:239px}#zoom-reset[_ngcontent-%COMP%]{top:20px}#zoom-slider[_ngcontent-%COMP%]{position:absolute;z-index:1;top:110px;left:12px;height:90px}#legend[_ngcontent-%COMP%]{z-index:20;position:absolute;left:16px;bottom:20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:30px;line-height:30px;white-space:nowrap}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-right:20px}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child{width:30px;min-width:30px}#legend[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   div[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid #999}"]},gLK3:function(n,e,l){"use strict";var t=l("CPp0"),i=l("15l/"),o=l("82j9"),a=(l.n(o),l("bsaU")),r=l("VR9T");l.d(e,"a",function(){return u});var u=function(){function n(n){this.http=n}return n.getDefaultGraphSettings=function(){return{type:r.a.DEFAULT_GRAPH_TYPE,nodeSize:r.a.DEFAULT_GRAPH_NODE_SIZE,fontSize:r.a.DEFAULT_GRAPH_FONT_SIZE,mergeDeliveries:r.a.DEFAULT_GRAPH_MERGE_DELIVERIES,showLegend:r.a.DEFAULT_GRAPH_SHOW_LEGEND,showZoom:r.a.DEFAULT_GRAPH_SHOW_ZOOM}},n.getDefaultTableSettings=function(){return{mode:r.a.DEFAULT_TABLE_MODE,width:r.a.DEFAULT_TABLE_WIDTH,stationColumns:r.a.DEFAULT_TABLE_STATION_COLUMNS.toArray(),deliveryColumns:r.a.DEFAULT_TABLE_DELIVERY_COLUMNS.toArray(),showType:r.a.DEFAULT_TABLE_SHOW_TYPE}},n.preprocessData=function(e){var l=e.hasOwnProperty("stations")&&e.hasOwnProperty("deliveries")&&e.hasOwnProperty("deliveriesRelations"),t=e.hasOwnProperty("elements")&&e.hasOwnProperty("layout")&&e.hasOwnProperty("gisLayout")&&e.hasOwnProperty("graphSettings")&&e.hasOwnProperty("tableSettings");if(l)return n.preprocessRawData(e);if(t)return n.preprocessDataWithSettings(e);throw new SyntaxError("Invalid data format")},n.preprocessRawData=function(e){for(var l={},t={},i=0,o=e.stations;i<o.length;i++){var a=o[i];a.incoming=[],a.outgoing=[],a.connections=[],l[a.id]=a}for(var r=0,u=e.deliveries;r<u.length;r++){var d=u[r];l[d.source].outgoing.push(d.id),l[d.target].incoming.push(d.id),t[d.id]=d}for(var s=0,c=e.deliveriesRelations;s<c.length;s++){var g=c[s],h=t[g.source],f=t[g.target];if(h.target!==f.source)throw new SyntaxError("Invalid delivery relation: "+JSON.stringify(g));l[h.target].connections.push(g)}return{elements:n.createElements(e.stations,e.deliveries),layout:null,gisLayout:null,graphSettings:n.getDefaultGraphSettings(),tableSettings:n.getDefaultTableSettings()}},n.preprocessDataWithSettings=function(e){var l={type:null!=e.graphSettings.type?e.graphSettings.type:r.a.DEFAULT_GRAPH_TYPE,nodeSize:null!=e.graphSettings.nodeSize?e.graphSettings.nodeSize:r.a.DEFAULT_GRAPH_NODE_SIZE,fontSize:null!=e.graphSettings.fontSize?e.graphSettings.fontSize:r.a.DEFAULT_GRAPH_FONT_SIZE,mergeDeliveries:null!=e.graphSettings.mergeDeliveries?e.graphSettings.mergeDeliveries:r.a.DEFAULT_GRAPH_MERGE_DELIVERIES,showLegend:null!=e.graphSettings.showLegend?e.graphSettings.showLegend:r.a.DEFAULT_GRAPH_SHOW_LEGEND,showZoom:null!=e.graphSettings.showZoom?e.graphSettings.showZoom:r.a.DEFAULT_GRAPH_SHOW_ZOOM},t={mode:null!=e.tableSettings.mode?e.tableSettings.mode:r.a.DEFAULT_TABLE_MODE,width:null!=e.tableSettings.width?e.tableSettings.width:r.a.DEFAULT_TABLE_WIDTH,stationColumns:null!=e.tableSettings.stationColumns?e.tableSettings.stationColumns:r.a.DEFAULT_TABLE_STATION_COLUMNS.toArray(),deliveryColumns:null!=e.tableSettings.deliveryColumns?e.tableSettings.deliveryColumns:r.a.DEFAULT_TABLE_DELIVERY_COLUMNS.toArray(),showType:null!=e.tableSettings.showType?e.tableSettings.showType:r.a.DEFAULT_TABLE_SHOW_TYPE};return{elements:n.createElements(e.elements.stations,e.elements.deliveries),layout:e.layout,gisLayout:e.gisLayout,graphSettings:l,tableSettings:t}},n.createElements=function(e,l){for(var t=new Set,i=0,o=e.concat(l);i<o.length;i++){var a=o[i],u=a.id;if(t.has(u))throw new SyntaxError("Duplicate id: "+u);if(u.includes(r.a.ARROW_STRING))throw new SyntaxError('ids are not allowed to contain "'+r.a.ARROW_STRING+'"');t.add(u)}for(var d=0,s=l;d<s.length;d++){var c=s[d],g=c.lot;if(null!=g&&g.includes(r.a.ARROW_STRING))throw new SyntaxError('lots are not allowed to contain "'+r.a.ARROW_STRING+'"')}return{stations:n.createStations(e),deliveries:n.createDeliveries(l)}},n.createStations=function(n){for(var e=[],l=new Set(r.a.STATION_PROPERTIES.toArray()),t=0,o=n;t<o.length;t++){for(var a=o[t],u=[],d=0,s=Object.keys(a);d<s.length;d++){var c=s[d];l.has(c)||u.push({name:c,value:a[c]})}e.push({id:a.id,name:a.name,lat:null!=a.lat?a.lat:0,lon:null!=a.lon?a.lon:0,incoming:a.incoming,outgoing:a.outgoing,connections:a.connections,invisible:null!=a.invisible&&a.invisible,contained:null!=a.contained&&a.contained,contains:null!=a.contains?a.contains:null,selected:null!=a.selected&&a.selected,observed:null!=a.observed?a.observed:i.a.NONE,forward:null!=a.forward&&a.forward,backward:null!=a.backward&&a.backward,outbreak:null!=a.outbreak&&a.outbreak,crossContamination:null!=a.crossContamination&&a.crossContamination,score:null!=a.score?a.score:0,commonLink:null!=a.commonLink&&a.commonLink,position:null!=a.position?a.position:null,positionRelativeTo:null!=a.positionRelativeTo?a.positionRelativeTo:null,properties:null!=a.properties?a.properties:u})}return e},n.createDeliveries=function(n){for(var e=[],l=new Set(r.a.DELIVERY_PROPERTIES.toArray()),t=0,o=n;t<o.length;t++){for(var u=o[t],d=[],s=0,c=Object.keys(u);s<c.length;s++){var g=c[s];l.has(g)||d.push({name:g,value:u[g]})}e.push({id:u.id,name:null!=u.name?u.name:u.id,lot:u.lot,date:a.a.dateToString(a.a.stringToDate(u.date)),source:u.source,target:u.target,originalSource:null!=u.originalSource?u.originalSource:u.source,originalTarget:null!=u.originalTarget?u.originalTarget:u.target,invisible:null!=u.invisible&&u.invisible,selected:null!=u.selected&&u.selected,observed:null!=u.observed?u.observed:i.a.NONE,forward:null!=u.forward&&u.forward,backward:null!=u.backward&&u.backward,score:null!=u.score?u.score:0,properties:null!=u.properties?u.properties:d})}return e},n.prototype.setDataSource=function(n){delete this.data,this.dataSource=n},n.prototype.getData=function(){var e=this;if(null!=this.data)return new Promise(function(n,l){return n(e.data)});if("string"==typeof this.dataSource)return this.http.get(this.dataSource).toPromise().then(function(l){return e.data=n.preprocessData(l.json()),e.data}).catch(function(n){return Promise.reject(n)});if(this.dataSource instanceof File){var l=this.dataSource;return new Promise(function(t,i){var o=new FileReader;o.onload=function(l){var o=l.target;try{e.data=n.preprocessData(JSON.parse(o.result)),t(e.data)}catch(n){i(n)}},o.readAsText(l)})}return new Promise(function(n,e){return e("no data source specified")})},n.ctorParameters=function(){return[{type:t.i}]},n}()},ojGf:function(n,e,l){"use strict";function t(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,40,"div",[["id","zoom"]],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-in"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomInPressed()&&t}return t},m.b,m.c)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](180224,null,0,p._0,[f.Renderer2,f.ElementRef,p.b,p.h],null,null),f["ɵdid"](16384,null,0,p._3,[[2,p._0],[8,null]],null,null),(n()(),f["ɵted"](0,["\n      "])),(n()(),f["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,m.d,m.e)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](638976,null,0,p._2,[f.Renderer2,f.ElementRef,p.t,[8,null]],null,null),(n()(),f["ɵted"](0,["add"])),(n()(),f["ɵted"](0,["\n    "])),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-out"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomOutPressed()&&t}return t},m.b,m.c)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](180224,null,0,p._0,[f.Renderer2,f.ElementRef,p.b,p.h],null,null),f["ɵdid"](16384,null,0,p._3,[[2,p._0],[8,null]],null,null),(n()(),f["ɵted"](0,["\n      "])),(n()(),f["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,m.d,m.e)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](638976,null,0,p._2,[f.Renderer2,f.ElementRef,p.t,[8,null]],null,null),(n()(),f["ɵted"](0,["remove"])),(n()(),f["ɵted"](0,["\n    "])),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-reset"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomResetPressed()&&t}return t},m.b,m.c)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](180224,null,0,p._0,[f.Renderer2,f.ElementRef,p.b,p.h],null,null),f["ɵdid"](16384,null,0,p._3,[[2,p._0],[8,null]],null,null),(n()(),f["ɵted"](0,["\n      "])),(n()(),f["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,m.d,m.e)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](638976,null,0,p._2,[f.Renderer2,f.ElementRef,p.t,[8,null]],null,null),(n()(),f["ɵted"](0,["zoom_out_map"])),(n()(),f["ɵted"](0,["\n    "])),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵeld"](0,null,null,4,"md-slider",[["class","mat-slider"],["id","zoom-slider"],["role","slider"],["tabindex","0"]],[[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null]],[[null,"slide"],[null,"change"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slideend"],[null,"slidestart"]],function(n,e,l){var t=!0,i=n.component;if("focus"===e){t=!1!==f["ɵnov"](n,38)._onFocus()&&t}if("blur"===e){t=!1!==f["ɵnov"](n,38)._onBlur()&&t}if("click"===e){t=!1!==f["ɵnov"](n,38)._onClick(l)&&t}if("keydown"===e){t=!1!==f["ɵnov"](n,38)._onKeydown(l)&&t}if("keyup"===e){t=!1!==f["ɵnov"](n,38)._onKeyup()&&t}if("mouseenter"===e){t=!1!==f["ɵnov"](n,38)._onMouseenter()&&t}if("slide"===e){t=!1!==f["ɵnov"](n,38)._onSlide(l)&&t}if("slideend"===e){t=!1!==f["ɵnov"](n,38)._onSlideEnd()&&t}if("slidestart"===e){t=!1!==f["ɵnov"](n,38)._onSlideStart(l)&&t}if("slide"===e){t=!1!==i.sliderChanged()&&t}if("change"===e){t=!1!==i.sliderChanged()&&t}return t},m.v,m.w)),f["ɵprd"](5120,null,v.d,function(n){return[n]},[p._87]),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](180224,[[3,4],["slider",4]],0,p._87,[f.Renderer2,f.ElementRef,p.h,[2,p._11]],{value:[0,"value"],vertical:[1,"vertical"]},{change:"change"}),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵted"](null,["\n  "]))],function(n,e){var l=e.component;n(e,9,0),n(e,20,0),n(e,31,0);n(e,38,0,l.zoomSliderValue,!0)},function(n,e){n(e,2,0,f["ɵnov"](e,4).disabled||null),n(e,13,0,f["ɵnov"](e,15).disabled||null),n(e,24,0,f["ɵnov"](e,26).disabled||null),n(e,35,1,[f["ɵnov"](e,38).disabled,f["ɵnov"](e,38).max,f["ɵnov"](e,38).min,f["ɵnov"](e,38).value,f["ɵnov"](e,38).vertical?"vertical":"horizontal","primary"==f["ɵnov"](e,38).color,"primary"!=f["ɵnov"](e,38).color&&"warn"!=f["ɵnov"](e,38).color,"warn"==f["ɵnov"](e,38).color,f["ɵnov"](e,38).disabled,f["ɵnov"](e,38).tickInterval,!f["ɵnov"](e,38).vertical,f["ɵnov"](e,38)._invertAxis,f["ɵnov"](e,38)._isSliding,f["ɵnov"](e,38).thumbLabel,f["ɵnov"](e,38).vertical,f["ɵnov"](e,38)._isMinValue,f["ɵnov"](e,38).disabled||f["ɵnov"](e,38)._isMinValue&&f["ɵnov"](e,38)._thumbGap&&f["ɵnov"](e,38)._invertAxis])})}function i(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n            "])),(n()(),f["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),f["ɵted"](null,["",""])),(n()(),f["ɵted"](null,["\n            "])),(n()(),f["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n              "])),(n()(),f["ɵeld"](0,null,null,0,"div",[],[[4,"background-color",null]],null,null,null,null)),(n()(),f["ɵted"](null,["\n            "])),(n()(),f["ɵted"](null,["\n          "]))],null,function(n,e){n(e,3,0,e.context.$implicit.name),n(e,7,0,e.context.$implicit.color)})}function o(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,18,"div",[["id","legend"]],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n    "])),(n()(),f["ɵeld"](0,null,null,15,"md-card",[["class","mat-card"]],null,null,null,m.x,m.y)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](49152,null,0,p._53,[],null,null),(n()(),f["ɵted"](0,["\n      "])),(n()(),f["ɵeld"](0,null,0,10,"md-card-content",[["class","mat-card-content"]],null,null,null,null,null)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](16384,null,0,p._101,[],null,null),(n()(),f["ɵted"](null,["\n        "])),(n()(),f["ɵeld"](0,null,null,5,"table",[],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n          "])),(n()(),f["ɵeld"](0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),f["ɵand"](16777216,null,null,1,null,i)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](null,["\n        "])),(n()(),f["ɵted"](null,["\n      "])),(n()(),f["ɵted"](0,["\n    "])),(n()(),f["ɵted"](null,["\n  "]))],function(n,e){n(e,14,0,e.component.legend)},null)}function a(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==f["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},m.z,m.A)),f["ɵdid"](49152,[[14,4]],0,p._80,[f.ElementRef],{disabled:[0,"disabled"]},null),(n()(),f["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,f["ɵnov"](e,1)._getTabIndex(),f["ɵnov"](e,1).disabled.toString(),f["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function r(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==f["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},m.z,m.A)),f["ɵdid"](49152,[[15,4]],0,p._80,[f.ElementRef],{disabled:[0,"disabled"]},null),(n()(),f["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,f["ɵnov"](e,1)._getTabIndex(),f["ɵnov"](e,1).disabled.toString(),f["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function u(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==f["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},m.z,m.A)),f["ɵdid"](49152,[[16,4]],0,p._80,[f.ElementRef],{disabled:[0,"disabled"]},null),(n()(),f["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,f["ɵnov"](e,1)._getTabIndex(),f["ɵnov"](e,1).disabled.toString(),f["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function d(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==f["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},m.z,m.A)),f["ɵdid"](49152,[[17,4]],0,p._80,[f.ElementRef],{disabled:[0,"disabled"]},null),(n()(),f["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,f["ɵnov"](e,1)._getTabIndex(),f["ɵnov"](e,1).disabled.toString(),f["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function s(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==f["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},m.z,m.A)),f["ɵdid"](49152,[[18,4]],0,p._80,[f.ElementRef],{disabled:[0,"disabled"]},null),(n()(),f["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,f["ɵnov"](e,1)._getTabIndex(),f["ɵnov"](e,1).disabled.toString(),f["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function c(n){return f["ɵvid"](0,[f["ɵqud"](402653184,1,{containerElement:0}),f["ɵqud"](402653184,2,{graphElement:0}),f["ɵqud"](671088640,3,{slider:0}),f["ɵqud"](402653184,4,{graphMenuTrigger:0}),f["ɵqud"](402653184,5,{graphMenuTriggerElement:0}),f["ɵqud"](402653184,6,{stationMenuTrigger:0}),f["ɵqud"](402653184,7,{stationMenuTriggerElement:0}),f["ɵqud"](402653184,8,{deliveryMenuTrigger:0}),f["ɵqud"](402653184,9,{deliveryMenuTriggerElement:0}),f["ɵqud"](402653184,10,{layoutMenuTrigger:0}),f["ɵqud"](402653184,11,{layoutMenuTriggerElement:0}),f["ɵqud"](402653184,12,{traceMenuTrigger:0}),f["ɵqud"](402653184,13,{traceMenuTriggerElement:0}),(n()(),f["ɵeld"](0,[[1,0],["container",1]],null,9,"div",[["id","container"]],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n  "])),(n()(),f["ɵeld"](0,[[2,0],["graph",1]],null,0,"div",[["id","graph"]],null,null,null,null,null)),(n()(),f["ɵted"](null,["\n  "])),(n()(),f["ɵand"](16777216,null,null,1,null,t)),f["ɵdid"](16384,null,0,b.NgIf,[f.ViewContainerRef,f.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),f["ɵted"](null,["\n  "])),(n()(),f["ɵand"](16777216,null,null,1,null,o)),f["ɵdid"](16384,null,0,b.NgIf,[f.ViewContainerRef,f.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](16777216,[[5,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==f["ɵnov"](n,25)._handleMousedown(l)&&t}if("click"===e){t=!1!==f["ɵnov"](n,25).toggleMenu()&&t}return t},null,null)),f["ɵdid"](4341760,[[4,4],["graphMenuTrigger",4]],0,p._102,[p.m,f.ElementRef,f.ViewContainerRef,[2,p._11]],{menu:[0,"menu"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](16777216,[[7,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==f["ɵnov"](n,28)._handleMousedown(l)&&t}if("click"===e){t=!1!==f["ɵnov"](n,28).toggleMenu()&&t}return t},null,null)),f["ɵdid"](4341760,[[6,4],["stationMenuTrigger",4]],0,p._102,[p.m,f.ElementRef,f.ViewContainerRef,[2,p._11]],{menu:[0,"menu"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](16777216,[[9,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==f["ɵnov"](n,31)._handleMousedown(l)&&t}if("click"===e){t=!1!==f["ɵnov"](n,31).toggleMenu()&&t}return t},null,null)),f["ɵdid"](4341760,[[8,4],["deliveryMenuTrigger",4]],0,p._102,[p.m,f.ElementRef,f.ViewContainerRef,[2,p._11]],{menu:[0,"menu"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](16777216,[[11,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==f["ɵnov"](n,34)._handleMousedown(l)&&t}if("click"===e){t=!1!==f["ɵnov"](n,34).toggleMenu()&&t}return t},null,null)),f["ɵdid"](4341760,[[10,4],["layoutMenuTrigger",4]],0,p._102,[p.m,f.ElementRef,f.ViewContainerRef,[2,p._11]],{menu:[0,"menu"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](16777216,[[13,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==f["ɵnov"](n,37)._handleMousedown(l)&&t}if("click"===e){t=!1!==f["ɵnov"](n,37).toggleMenu()&&t}return t},null,null)),f["ɵdid"](4341760,[[12,4],["traceMenuTrigger",4]],0,p._102,[p.m,f.ElementRef,f.ViewContainerRef,[2,p._11]],{menu:[0,"menu"]},null),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,m.B,m.C)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](1228800,[["graphMenu",4]],1,p._79,[f.ElementRef],null,null),f["ɵqud"](603979776,14,{items:1}),(n()(),f["ɵted"](0,["\n  "])),(n()(),f["ɵand"](16777216,null,0,1,null,a)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](0,["\n"])),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,m.B,m.C)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](1228800,[["stationMenu",4]],1,p._79,[f.ElementRef],null,null),f["ɵqud"](603979776,15,{items:1}),(n()(),f["ɵted"](0,["\n  "])),(n()(),f["ɵand"](16777216,null,0,1,null,r)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](0,["\n"])),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,m.B,m.C)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](1228800,[["deliveryMenu",4]],1,p._79,[f.ElementRef],null,null),f["ɵqud"](603979776,16,{items:1}),(n()(),f["ɵted"](0,["\n  "])),(n()(),f["ɵand"](16777216,null,0,1,null,u)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](0,["\n"])),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,m.B,m.C)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](1228800,[["layoutMenu",4]],1,p._79,[f.ElementRef],null,null),f["ɵqud"](603979776,17,{items:1}),(n()(),f["ɵted"](0,["\n  "])),(n()(),f["ɵand"](16777216,null,0,1,null,d)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](0,["\n"])),(n()(),f["ɵted"](null,["\n"])),(n()(),f["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,m.B,m.C)),f["ɵdid"](16384,null,0,p.Y,[[2,p.Z],f.ElementRef],null,null),f["ɵdid"](1228800,[["traceMenu",4]],1,p._79,[f.ElementRef],null,null),f["ɵqud"](603979776,18,{items:1}),(n()(),f["ɵted"](0,["\n  "])),(n()(),f["ɵand"](16777216,null,0,1,null,s)),f["ɵdid"](802816,null,0,b.NgForOf,[f.ViewContainerRef,f.TemplateRef,f.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),f["ɵted"](0,["\n"])),(n()(),f["ɵted"](null,["\n"]))],function(n,e){var l=e.component;n(e,18,0,l.showZoom),n(e,21,0,l.showLegend),n(e,25,0,f["ɵnov"](e,41)),n(e,28,0,f["ɵnov"](e,50)),n(e,31,0,f["ɵnov"](e,59)),n(e,34,0,f["ɵnov"](e,68)),n(e,37,0,f["ɵnov"](e,77)),n(e,45,0,l.graphMenuActions),n(e,54,0,l.stationMenuActions),n(e,63,0,l.deliveryMenuActions),n(e,72,0,l.layoutMenuActions),n(e,81,0,l.traceMenuActions)},null)}function g(n){return f["ɵvid"](0,[(n()(),f["ɵeld"](0,null,null,1,"app-graph",[],null,null,null,c,_)),f["ɵdid"](114688,null,0,y.a,[E.a,p.s,f.ElementRef],null,null)],function(n,e){n(e,1,0)},null)}var h=l("gBzr"),f=l("/oeL"),m=l("v6Q/"),p=l("Z04r"),v=l("bm2B"),b=l("qbdv"),y=l("Elx+"),E=l("ppG+");l.d(e,"b",function(){return _}),e.a=c;var S=[h.a],_=f["ɵcrt"]({encapsulation:0,styles:S,data:{}});f["ɵccf"]("app-graph",y.a,g,{},{},[])},p5Ee:function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t={production:!0}},"ppG+":function(n,e,l){"use strict";var t=l("15l/"),i=l("bsaU");l.d(e,"a",function(){return o});var o=function(){function n(){this.stationsById=new Map,this.deliveriesById=new Map,this.visited=new Set}return n.prototype.init=function(n){this.data=n,this.stationsById.clear(),this.deliveriesById.clear(),this.maxScore=0;for(var e=0,l=n.stations;e<l.length;e++){var t=l[e];this.stationsById.set(t.id,t),this.maxScore=Math.max(this.maxScore,t.score)}for(var i=0,o=n.deliveries;i<o.length;i++){var a=o[i];this.deliveriesById.set(a.id,a)}},n.prototype.getMaxScore=function(){return this.maxScore},n.prototype.getStationsById=function(n){var e=this;return n.map(function(n){return e.stationsById.get(n)})},n.prototype.getDeliveriesById=function(n){var e=this;return n.map(function(n){return e.deliveriesById.get(n)})},n.prototype.mergeStations=function(n,e){for(var l=this,o=[],a=0,r=n;a<r.length;a++){var u=r[a],d=this.stationsById.get(u);null!=d.contains&&d.contains.length>0?(o=o.concat(d.contains),this.expandStationsInternal([u])):o.push(u)}for(var s,c=1;;c++)if(!this.stationsById.has(c.toString())&&!this.deliveriesById.has(c.toString())){s=c.toString();break}for(var g={id:s,name:e,lat:null,lon:null,incoming:[],outgoing:[],connections:[],invisible:!1,contained:!1,contains:o,selected:!0,observed:t.a.NONE,forward:!1,backward:!1,outbreak:!1,crossContamination:!1,score:0,commonLink:!1,position:null,positionRelativeTo:null,properties:[]},h=[],f=0,m=o;f<m.length;f++){var u=m[f],d=this.stationsById.get(u);d.contained=!0,d.observed=t.a.NONE,g.incoming=g.incoming.concat(d.incoming),g.outgoing=g.outgoing.concat(d.outgoing),g.connections=g.connections.concat(d.connections),d.incoming.forEach(function(n){return l.deliveriesById.get(n).target=s}),d.outgoing.forEach(function(n){return l.deliveriesById.get(n).source=s}),null!=h&&(null!=d.lat&&null!=d.lon?h.push({x:d.lon,y:d.lat}):h=null)}if(null!=h){var p=i.a.getCenter(h);g.lat=p.y,g.lon=p.x}this.stationsById.set(s,g),this.data.stations.push(g),this.updateTrace(),this.updateScores()},n.prototype.expandStations=function(n){this.expandStationsInternal(n),this.updateTrace(),this.updateScores()},n.prototype.setSelected=function(n,e){this.stationsById.has(n)?this.stationsById.get(n).selected=e:this.deliveriesById.has(n)&&(this.deliveriesById.get(n).selected=e)},n.prototype.clearInvisibility=function(){this.stationsById.forEach(function(n){n.invisible=!1}),this.deliveriesById.forEach(function(n){n.invisible=!1}),this.updateTrace(),this.updateScores()},n.prototype.makeStationsInvisible=function(n){for(var e=0,l=n;e<l.length;e++){var t=l[e];this.stationsById.get(t).invisible=!0}this.deliveriesById.forEach(function(e){-1===n.indexOf(e.source)&&-1===n.indexOf(e.target)||(e.invisible=!0)}),this.updateTrace(),this.updateScores()},n.prototype.clearOutbreakStations=function(){this.stationsById.forEach(function(n){n.outbreak=!1}),this.updateScores()},n.prototype.markStationsAsOutbreak=function(n,e){for(var l=0,t=n;l<t.length;l++){var i=t[l];this.stationsById.get(i).outbreak=e}this.updateScores()},n.prototype.setCrossContaminationOfStations=function(n,e){for(var l=0,t=n;l<t.length;l++){var i=t[l];this.stationsById.get(i).crossContamination=e}this.updateTrace(),this.updateScores()},n.prototype.clearTrace=function(){this.stationsById.forEach(function(n){n.observed=t.a.NONE,n.forward=!1,n.backward=!1}),this.deliveriesById.forEach(function(n){n.observed=t.a.NONE,n.forward=!1,n.backward=!1})},n.prototype.showStationTrace=function(n){var e=this,l=this.stationsById.get(n);this.clearTrace(),l.observed=t.a.FULL,l.outgoing.forEach(function(n){return e.showDeliveryForwardTraceInternal(n)}),l.incoming.forEach(function(n){return e.showDeliveryBackwardTraceInternal(n)})},n.prototype.showStationForwardTrace=function(n){var e=this,l=this.stationsById.get(n);this.clearTrace(),l.observed=t.a.FORWARD,l.outgoing.forEach(function(n){return e.showDeliveryForwardTraceInternal(n)})},n.prototype.showStationBackwardTrace=function(n){var e=this,l=this.stationsById.get(n);this.clearTrace(),l.observed=t.a.BACKWARD,l.incoming.forEach(function(n){return e.showDeliveryBackwardTraceInternal(n)})},n.prototype.showDeliveryTrace=function(n){var e=this,l=this.deliveriesById.get(n);this.clearTrace(),l.observed=t.a.FULL;var i=this.stationsById.get(l.source),o=this.stationsById.get(l.target);i.backward=!0,this.getBackwardDeliveries(i,l).forEach(function(n){return e.showDeliveryBackwardTraceInternal(n)}),o.forward=!0,this.getForwardDeliveries(o,l).forEach(function(n){return e.showDeliveryForwardTraceInternal(n)})},n.prototype.showDeliveryForwardTrace=function(n){var e=this,l=this.deliveriesById.get(n);this.clearTrace(),l.observed=t.a.FORWARD;var i=this.stationsById.get(l.target);i.forward=!0,this.getForwardDeliveries(i,l).forEach(function(n){return e.showDeliveryForwardTraceInternal(n)})},n.prototype.showDeliveryBackwardTrace=function(n){var e=this,l=this.deliveriesById.get(n);this.clearTrace(),l.observed=t.a.BACKWARD;var i=this.stationsById.get(l.source);i.backward=!0,this.getBackwardDeliveries(i,l).forEach(function(n){return e.showDeliveryBackwardTraceInternal(n)})},n.prototype.setConnectionsOfStation=function(n,e){this.stationsById.get(n).connections=e,this.updateTrace(),this.updateScores()},n.prototype.expandStationsInternal=function(n){for(var e=this,l=0,t=n;l<t.length;l++){var i=t[l];!function(n){var l=e.stationsById.get(n);e.stationsById.delete(n),e.data.stations.splice(e.data.stations.indexOf(l),1);for(var t=0,i=l.contains;t<i.length;t++){var o=i[t];e.stationsById.get(o).contained=!1}e.deliveriesById.forEach(function(e){e.source===n&&(e.source=e.originalSource),e.target===n&&(e.target=e.originalTarget)})}(i)}},n.prototype.updateScores=function(){var n=this,e=0;this.maxScore=0,this.stationsById.forEach(function(n){n.score=0,n.commonLink=!1}),this.deliveriesById.forEach(function(n){n.score=0}),this.stationsById.forEach(function(l){!l.outbreak||l.contained||l.invisible||(e++,n.visited.clear(),n.updateStationScore(l.id,l.id))}),0!==e&&(this.stationsById.forEach(function(l){l.score/=e,l.commonLink=1===l.score,n.maxScore=Math.max(n.maxScore,l.score)}),this.deliveriesById.forEach(function(n){n.score/=e}))},n.prototype.updateStationScore=function(n,e){var l=this.stationsById.get(n);if(!this.visited.has(l.id)&&!l.contained&&!l.invisible){this.visited.add(l.id),l.score++;for(var t=0,i=l.incoming;t<i.length;t++){var o=i[t];this.updateDeliveryScore(o,e)}}},n.prototype.updateDeliveryScore=function(n,e){var l=this,t=this.deliveriesById.get(n);if(!this.visited.has(t.id)&&!t.invisible){this.visited.add(t.id),t.score++;var i=this.stationsById.get(t.source);this.visited.has(i.id)||(this.visited.add(i.id),i.score++),this.getBackwardDeliveries(i,t).forEach(function(n){return l.updateDeliveryScore(n,e)})}},n.prototype.showDeliveryForwardTraceInternal=function(n){var e=this,l=this.deliveriesById.get(n);if(!l.forward&&!l.invisible){l.forward=!0;var t=this.stationsById.get(l.target);t.forward=!0,this.getForwardDeliveries(t,l).forEach(function(n){return e.showDeliveryForwardTraceInternal(n)})}},n.prototype.showDeliveryBackwardTraceInternal=function(n){var e=this,l=this.deliveriesById.get(n);if(!l.backward&&!l.invisible){l.backward=!0;var t=this.stationsById.get(l.source);t.backward=!0,this.getBackwardDeliveries(t,l).forEach(function(n){return e.showDeliveryBackwardTraceInternal(n)})}},n.prototype.getForwardDeliveries=function(n,e){if(n.crossContamination){if(null!=e.date){for(var l=i.a.stringToDate(e.date),t=new Set(n.connections.filter(function(n){return n.source===e.id}).map(function(n){return n.target})),o=0,a=n.outgoing;o<a.length;o++){var r=a[o];if(!t.has(r)){var u=this.getDeliveriesById([r])[0];null!=u.date?l.getTime()<=i.a.stringToDate(u.date).getTime()&&t.add(r):t.add(r)}}return Array.from(t)}return n.outgoing}return n.connections.filter(function(n){return n.source===e.id}).map(function(n){return n.target})},n.prototype.getBackwardDeliveries=function(n,e){if(n.crossContamination){if(null!=e.date){for(var l=i.a.stringToDate(e.date),t=new Set(n.connections.filter(function(n){return n.target===e.id}).map(function(n){return n.source})),o=0,a=n.incoming;o<a.length;o++){var r=a[o];if(!t.has(r)){var u=this.getDeliveriesById([r])[0];null!=u.date?l.getTime()>=i.a.stringToDate(u.date).getTime()&&t.add(r):t.add(r)}}return Array.from(t)}return n.incoming}return n.connections.filter(function(n){return n.target===e.id}).map(function(n){return n.source})},n.prototype.updateTrace=function(){var n=null,e=null;if(this.stationsById.forEach(function(e){e.observed!==t.a.NONE&&(n=e)}),this.deliveriesById.forEach(function(n){n.observed!==t.a.NONE&&(e=n)}),null!=n)if(n.invisible||n.contained)this.clearTrace();else switch(n.observed){case t.a.FULL:this.showStationTrace(n.id);break;case t.a.FORWARD:this.showStationForwardTrace(n.id);break;case t.a.BACKWARD:this.showStationBackwardTrace(n.id)}else if(null!=e)if(e.invisible)this.clearTrace();else switch(e.observed){case t.a.FULL:this.showDeliveryTrace(e.id);break;case t.a.FORWARD:this.showDeliveryForwardTrace(e.id);break;case t.a.BACKWARD:this.showDeliveryBackwardTrace(e.id)}else this.clearTrace()},n.ctorParameters=function(){return[]},n}()},q4dy:function(n,e,l){"use strict";function t(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,9,"button",[["class","mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n.parent,214).toggle()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._1,[],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["info"])),(n()(),h["ɵted"](0,["\n  "]))],function(n,e){n(e,7,0)},function(n,e){n(e,0,0,h["ɵnov"](e,2).disabled||null)})}function i(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n.parent,214).toggle()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._3,[[2,m._0],[8,null]],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["info"])),(n()(),h["ɵted"](0,["\n  "]))],function(n,e){n(e,7,0)},function(n,e){n(e,0,0,h["ɵnov"](e,2).disabled||null)})}function o(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,3,"md-radio-button",[["class","mat-radio-button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[1,"id",0]],null,null,f.f,f.g)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](4440064,[[10,4]],0,m._4,[[2,m._5],h.ElementRef,h.Renderer2,h.ChangeDetectorRef,m.h,m.v],{value:[0,"value"]},null),(n()(),h["ɵted"](0,["\n          ","\n        "]))],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,h["ɵnov"](e,2).checked,h["ɵnov"](e,2).disabled,h["ɵnov"](e,2).id),n(e,3,0,e.context.$implicit)})}function a(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,3,"md-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,2)._selectViaInteraction()&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,2)._handleKeydown(l)&&t}return t},f.h,f.i)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,[[11,4]],0,m._6,[h.ElementRef,[2,m._7],[2,m.Z]],{value:[0,"value"]},null),(n()(),h["ɵted"](0,["\n          ","\n        "]))],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,h["ɵnov"](e,2)._getTabIndex(),h["ɵnov"](e,2).selected,h["ɵnov"](e,2).multiple,h["ɵnov"](e,2).active,h["ɵnov"](e,2).id,h["ɵnov"](e,2).selected.toString(),h["ɵnov"](e,2).disabled.toString(),h["ɵnov"](e,2).disabled),n(e,3,0,e.context.$implicit)})}function r(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,3,"md-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,2)._selectViaInteraction()&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,2)._handleKeydown(l)&&t}return t},f.h,f.i)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,[[13,4]],0,m._6,[h.ElementRef,[2,m._7],[2,m.Z]],{value:[0,"value"]},null),(n()(),h["ɵted"](0,["\n          ","\n        "]))],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,h["ɵnov"](e,2)._getTabIndex(),h["ɵnov"](e,2).selected,h["ɵnov"](e,2).multiple,h["ɵnov"](e,2).active,h["ɵnov"](e,2).id,h["ɵnov"](e,2).selected.toString(),h["ɵnov"](e,2).disabled.toString(),h["ɵnov"](e,2).disabled),n(e,3,0,e.context.$implicit)})}function u(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,3,"md-radio-button",[["class","mat-radio-button"]],[[2,"mat-radio-checked",null],[2,"mat-radio-disabled",null],[1,"id",0]],null,null,f.f,f.g)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](4440064,[[15,4]],0,m._4,[[2,m._5],h.ElementRef,h.Renderer2,h.ChangeDetectorRef,m.h,m.v],{value:[0,"value"]},null),(n()(),h["ɵted"](0,["\n          ","\n        "]))],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,h["ɵnov"](e,2).checked,h["ɵnov"](e,2).disabled,h["ɵnov"](e,2).id),n(e,3,0,e.context.$implicit)})}function d(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,3,"md-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,2)._selectViaInteraction()&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,2)._handleKeydown(l)&&t}return t},f.h,f.i)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,[[16,4]],0,m._6,[h.ElementRef,[2,m._7],[2,m.Z]],{value:[0,"value"]},null),(n()(),h["ɵted"](0,["\n          ","\n        "]))],function(n,e){n(e,2,0,e.context.$implicit)},function(n,e){n(e,0,0,h["ɵnov"](e,2)._getTabIndex(),h["ɵnov"](e,2).selected,h["ɵnov"](e,2).multiple,h["ɵnov"](e,2).active,h["ɵnov"](e,2).id,h["ɵnov"](e,2).selected.toString(),h["ɵnov"](e,2).disabled.toString(),h["ɵnov"](e,2).disabled),n(e,3,0,e.context.$implicit)})}function s(n){return h["ɵvid"](0,[h["ɵqud"](402653184,1,{mainContainer:0}),h["ɵqud"](402653184,2,{graph:0}),h["ɵqud"](402653184,3,{gis:0}),h["ɵqud"](402653184,4,{table:0}),h["ɵqud"](402653184,5,{rightSidenav:0}),h["ɵqud"](402653184,6,{rightSidenavElement:0}),h["ɵqud"](402653184,7,{sidenavSlider:0}),h["ɵqud"](402653184,8,{fileInput:0}),(n()(),h["ɵeld"](0,null,null,63,"md-toolbar",[["class","mat-elevation-z5 mat-toolbar"],["color","primary"],["id","mainToolbar"],["role","toolbar"]],null,null,null,f.j,f.k)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,null,0,m._8,[h.Renderer2,h.ElementRef],{color:[0,"color"]},null),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,9,"button",[["class","mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,80).toggle()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._1,[],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["menu"])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,4,"button",[["class","mat-button"],["id","homeButton"],["md-button",""]],[[8,"disabled",0]],null,null,f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._9,[],null,null),(n()(),h["ɵted"](0,["FoodChain-Lab"])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,0,"span",[["class","toolbarSpan"]],null,null,null,null,null)),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,9,"button",[["class","mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.onSaveImage()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._1,[],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["image"])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,[[8,0],["fileInput",1]],0,0,"input",[["id","fileInput"],["type","file"]],null,[[null,"change"]],function(n,e,l){var t=!0,i=n.component;if("change"===e){t=!1!==i.onLoad(l)&&t}return t},null,null)),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,9,"button",[["class","mat-icon-button"],["md-icon-button",""],["onclick","document.getElementById('fileInput').click()"]],[[8,"disabled",0]],null,null,f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._1,[],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["file_upload"])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵeld"](0,null,0,9,"button",[["class","mat-icon-button"],["md-icon-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.onSave()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._1,[],null,null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["file_download"])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,t)),h["ɵdid"](16384,null,0,v.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,i)),h["ɵdid"](16384,null,0,v.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["ɵted"](0,["\n"])),(n()(),h["ɵted"](null,["\n\n"])),(n()(),h["ɵeld"](0,[[1,0]],null,154,"md-sidenav-container",[["class","mat-sidenav-container"],["id","mainContainer"]],[[2,"mat-sidenav-transition",null]],null,null,f.l,f.m)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1097728,[["mainContainer",4]],1,m._10,[[2,m._11],h.ElementRef,h.Renderer2,h.NgZone],null,null),h["ɵqud"](603979776,9,{_sidenavs:1}),(n()(),h["ɵted"](1,["\n  "])),(n()(),h["ɵeld"](0,null,0,123,"md-sidenav",[["align","start"],["class","mat-sidenav"],["id","leftSidenav"],["mode","side"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-sidenav-closed",null],[2,"mat-sidenav-closing",null],[2,"mat-sidenav-end",null],[2,"mat-sidenav-opened",null],[2,"mat-sidenav-opening",null],[2,"mat-sidenav-over",null],[2,"mat-sidenav-push",null],[2,"mat-sidenav-side",null]],[[null,"transitionend"],[null,"keydown"]],function(n,e,l){var t=!0;if("transitionend"===e){t=!1!==h["ɵnov"](n,80)._onTransitionEnd(l)&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,80).handleKeydown(l)&&t}return t},f.n,f.o)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[[9,4],["leftSidenav",4]],0,m._12,[h.ElementRef,m.o,[2,b.DOCUMENT]],{align:[0,"align"],mode:[1,"mode"]},null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,6,"md-toolbar",[["class","mat-toolbar"],["color","primary"],["role","toolbar"]],null,null,null,f.j,f.k)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,null,0,m._8,[h.Renderer2,h.ElementRef],{color:[0,"color"]},null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,1,"span",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["Graph Settings"])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,67,"div",[["class","sidenav-elements"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,11,"md-radio-group",[["class","mat-radio-group"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(i.data.graphSettings.type=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("type")&&t}return t},null,null)),h["ɵdid"](1064960,null,1,m._5,[h.ChangeDetectorRef],null,null),h["ɵqud"](603979776,10,{_radios:1}),h["ɵprd"](1024,null,y.d,function(n){return[n]},[m._5]),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[2,y.d]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),(n()(),h["ɵted"](null,["\n        "])),(n()(),h["ɵand"](16777216,null,null,1,null,o)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,11,"md-select",[["class","mat-select"],["placeholder","Node Size"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[2,"mat-select-disabled",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"blur"]],function(n,e,l){var t=!0,i=n.component;if("keydown"===e){t=!1!==h["ɵnov"](n,110)._handleClosedKeydown(l)&&t}if("blur"===e){t=!1!==h["ɵnov"](n,110)._onBlur()&&t}if("ngModelChange"===e){t=!1!==(i.data.graphSettings.nodeSize=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("nodeSize")&&t}return t},f.p,f.q)),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1294336,null,2,m._13,[m.e,h.ChangeDetectorRef,h.Renderer2,h.ElementRef,[2,m._11],[2,y.e],[8,null],[2,m._14]],{placeholder:[0,"placeholder"]},null),h["ɵqud"](603979776,11,{options:1}),h["ɵqud"](603979776,12,{optionGroups:1}),(n()(),h["ɵted"](0,["\n        "])),(n()(),h["ɵand"](16777216,null,0,1,null,a)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,11,"md-select",[["class","mat-select"],["placeholder","Font Size"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[2,"mat-select-disabled",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"blur"]],function(n,e,l){var t=!0,i=n.component;if("keydown"===e){t=!1!==h["ɵnov"](n,123)._handleClosedKeydown(l)&&t}if("blur"===e){t=!1!==h["ɵnov"](n,123)._onBlur()&&t}if("ngModelChange"===e){t=!1!==(i.data.graphSettings.fontSize=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("fontSize")&&t}return t},f.p,f.q)),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1294336,null,2,m._13,[m.e,h.ChangeDetectorRef,h.Renderer2,h.ElementRef,[2,m._11],[2,y.e],[8,null],[2,m._14]],{placeholder:[0,"placeholder"]},null),h["ɵqud"](603979776,13,{options:1}),h["ɵqud"](603979776,14,{optionGroups:1}),(n()(),h["ɵted"](0,["\n        "])),(n()(),h["ɵand"](16777216,null,0,1,null,r)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,7,"md-checkbox",[["class","mat-checkbox"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(i.data.graphSettings.mergeDeliveries=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("mergeDeliveries")&&t}return t},f.r,f.s)),h["ɵdid"](4374528,null,0,m._15,[h.Renderer2,h.ElementRef,h.ChangeDetectorRef,m.h],null,null),h["ɵprd"](1024,null,y.d,function(n){return[n]},[m._15]),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[2,y.d]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),(n()(),h["ɵted"](0,["\n        Merge Deliveries\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,7,"md-checkbox",[["class","mat-checkbox"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(i.data.graphSettings.showLegend=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("showLegend")&&t}return t},f.r,f.s)),h["ɵdid"](4374528,null,0,m._15,[h.Renderer2,h.ElementRef,h.ChangeDetectorRef,m.h],null,null),h["ɵprd"](1024,null,y.d,function(n){return[n]},[m._15]),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[2,y.d]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),(n()(),h["ɵted"](0,["\n        Show Legend\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,7,"md-checkbox",[["class","mat-checkbox"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(i.data.graphSettings.showZoom=l)&&t}if("ngModelChange"===e){t=!1!==i.onGraphChange("showZoom")&&t}return t},f.r,f.s)),h["ɵdid"](4374528,null,0,m._15,[h.Renderer2,h.ElementRef,h.ChangeDetectorRef,m.h],null,null),h["ɵprd"](1024,null,y.d,function(n){return[n]},[m._15]),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[2,y.d]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),(n()(),h["ɵted"](0,["\n        Show Zoom Controls\n      "])),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,6,"md-toolbar",[["class","mat-toolbar"],["color","primary"],["role","toolbar"]],null,null,null,f.j,f.k)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,null,0,m._8,[h.Renderer2,h.ElementRef],{color:[0,"color"]},null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,1,"span",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["Table Settings"])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,33,"div",[["class","sidenav-elements"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,11,"md-radio-group",[["class","mat-radio-group"],["role","radiogroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(i.data.tableSettings.mode=l)&&t}if("ngModelChange"===e){t=!1!==i.onTableChange("mode")&&t}return t},null,null)),h["ɵdid"](1064960,null,1,m._5,[h.ChangeDetectorRef],null,null),h["ɵqud"](603979776,15,{_radios:1}),h["ɵprd"](1024,null,y.d,function(n){return[n]},[m._5]),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[2,y.d]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),(n()(),h["ɵted"](null,["\n        "])),(n()(),h["ɵand"](16777216,null,null,1,null,u)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,4,"button",[["class","mat-raised-button"],["md-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.changeColumns()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._16,[],null,null),(n()(),h["ɵted"](0,["Change Columns"])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,11,"md-select",[["class","mat-select"],["placeholder","Show Type"],["role","listbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[2,"mat-select-disabled",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"blur"]],function(n,e,l){var t=!0,i=n.component;if("keydown"===e){t=!1!==h["ɵnov"](n,193)._handleClosedKeydown(l)&&t}if("blur"===e){t=!1!==h["ɵnov"](n,193)._onBlur()&&t}if("ngModelChange"===e){t=!1!==(i.data.tableSettings.showType=l)&&t}if("ngModelChange"===e){t=!1!==i.onTableChange("showType")&&t}return t},f.p,f.q)),h["ɵdid"](671744,null,0,y.j,[[8,null],[8,null],[8,null],[8,null]],{model:[0,"model"]},{update:"ngModelChange"}),h["ɵprd"](2048,null,y.e,null,[y.j]),h["ɵdid"](16384,null,0,y.k,[y.e],null,null),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1294336,null,2,m._13,[m.e,h.ChangeDetectorRef,h.Renderer2,h.ElementRef,[2,m._11],[2,y.e],[8,null],[2,m._14]],{placeholder:[0,"placeholder"]},null),h["ɵqud"](603979776,16,{options:1}),h["ɵqud"](603979776,17,{optionGroups:1}),(n()(),h["ɵted"](0,["\n        "])),(n()(),h["ɵand"](16777216,null,0,1,null,d)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](1,["\n\n  "])),(n()(),h["ɵeld"](0,null,1,7,"div",[["id","mainContent"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,1,"app-graph",[],[[8,"hidden",0]],null,null,E.a,E.b)),h["ɵdid"](114688,[[2,4],["graph",4]],0,S.a,[_.a,m.s,h.ElementRef],null,null),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,1,"app-gis",[],[[8,"hidden",0]],null,null,R.a,R.b)),h["ɵdid"](114688,[[3,4],["gis",4]],0,C.a,[_.a,m.s,h.ElementRef],null,null),(n()(),h["ɵted"](null,["\n  "])),(n()(),h["ɵted"](1,["\n\n  "])),(n()(),h["ɵeld"](0,[[6,0]],0,14,"md-sidenav",[["align","end"],["class","mat-sidenav"],["id","rightSidenav"],["mode","side"],["tabIndex","-1"]],[[1,"align",0],[2,"mat-sidenav-closed",null],[2,"mat-sidenav-closing",null],[2,"mat-sidenav-end",null],[2,"mat-sidenav-opened",null],[2,"mat-sidenav-opening",null],[2,"mat-sidenav-over",null],[2,"mat-sidenav-push",null],[2,"mat-sidenav-side",null]],[[null,"transitionend"],[null,"keydown"]],function(n,e,l){var t=!0;if("transitionend"===e){t=!1!==h["ɵnov"](n,214)._onTransitionEnd(l)&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,214).handleKeydown(l)&&t}return t},f.n,f.o)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[[9,4],[5,4],["rightSidenav",4]],0,m._12,[h.ElementRef,m.o,[2,b.DOCUMENT]],{align:[0,"align"],mode:[1,"mode"]},null),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵeld"](0,null,0,9,"div",[["id","rightSidenavContent"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,[[7,0],["sidenavSlider",1]],null,3,"div",[["id","sidenavSlider"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n        "])),(n()(),h["ɵeld"](0,null,null,0,"div",[["id","sidenavSliderCenter"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵeld"](0,null,null,1,"app-table",[],null,null,null,T.a,T.b)),h["ɵdid"](114688,[[4,4],["table",4]],0,w.a,[O.ScrollbarHelper],null,null),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵted"](1,["\n"])),(n()(),h["ɵted"](null,["\n"]))],function(n,e){var l=e.component;n(e,10,0,"primary"),n(e,19,0),n(e,38,0),n(e,51,0),n(e,62,0),n(e,67,0,!h["ɵnov"](e,214).opened),n(e,70,0,h["ɵnov"](e,214).opened);n(e,80,0,"start","side");n(e,84,0,"primary"),n(e,96,0,l.data.graphSettings.type),n(e,102,0,l.graphTypes),n(e,106,0,l.data.graphSettings.nodeSize);n(e,110,0,"Node Size"),n(e,115,0,l.sizes),n(e,119,0,l.data.graphSettings.fontSize);n(e,123,0,"Font Size"),n(e,128,0,l.sizes),n(e,134,0,l.data.graphSettings.mergeDeliveries),n(e,143,0,l.data.graphSettings.showLegend),n(e,152,0,l.data.graphSettings.showZoom);n(e,161,0,"primary"),n(e,173,0,l.data.tableSettings.mode),n(e,179,0,l.tableModes),n(e,189,0,l.data.tableSettings.showType);n(e,193,0,"Show Type"),n(e,198,0,l.showTypes),n(e,206,0),n(e,209,0);n(e,214,0,"end","side"),n(e,224,0)},function(n,e){var l=e.component;n(e,12,0,h["ɵnov"](e,14).disabled||null),n(e,23,0,h["ɵnov"](e,25).disabled||null),n(e,31,0,h["ɵnov"](e,33).disabled||null),n(e,44,0,h["ɵnov"](e,46).disabled||null),n(e,55,0,h["ɵnov"](e,57).disabled||null),n(e,73,0,h["ɵnov"](e,75)._enableTransitions);n(e,78,0,null,h["ɵnov"](e,80)._isClosed,h["ɵnov"](e,80)._isClosing,h["ɵnov"](e,80)._isEnd,h["ɵnov"](e,80)._isOpened,h["ɵnov"](e,80)._isOpening,h["ɵnov"](e,80)._modeOver,h["ɵnov"](e,80)._modePush,h["ɵnov"](e,80)._modeSide),n(e,92,0,h["ɵnov"](e,98).ngClassUntouched,h["ɵnov"](e,98).ngClassTouched,h["ɵnov"](e,98).ngClassPristine,h["ɵnov"](e,98).ngClassDirty,h["ɵnov"](e,98).ngClassValid,h["ɵnov"](e,98).ngClassInvalid,h["ɵnov"](e,98).ngClassPending),n(e,105,1,[h["ɵnov"](e,108).ngClassUntouched,h["ɵnov"](e,108).ngClassTouched,h["ɵnov"](e,108).ngClassPristine,h["ɵnov"](e,108).ngClassDirty,h["ɵnov"](e,108).ngClassValid,h["ɵnov"](e,108).ngClassInvalid,h["ɵnov"](e,108).ngClassPending,h["ɵnov"](e,110).tabIndex,h["ɵnov"](e,110)._ariaLabel,h["ɵnov"](e,110).ariaLabelledby,h["ɵnov"](e,110).required.toString(),h["ɵnov"](e,110).disabled.toString(),(null==h["ɵnov"](e,110)._control?null:h["ɵnov"](e,110)._control.invalid)||"false",h["ɵnov"](e,110)._optionIds,h["ɵnov"](e,110).disabled]),n(e,118,1,[h["ɵnov"](e,121).ngClassUntouched,h["ɵnov"](e,121).ngClassTouched,h["ɵnov"](e,121).ngClassPristine,h["ɵnov"](e,121).ngClassDirty,h["ɵnov"](e,121).ngClassValid,h["ɵnov"](e,121).ngClassInvalid,h["ɵnov"](e,121).ngClassPending,h["ɵnov"](e,123).tabIndex,h["ɵnov"](e,123)._ariaLabel,h["ɵnov"](e,123).ariaLabelledby,h["ɵnov"](e,123).required.toString(),h["ɵnov"](e,123).disabled.toString(),(null==h["ɵnov"](e,123)._control?null:h["ɵnov"](e,123)._control.invalid)||"false",h["ɵnov"](e,123)._optionIds,h["ɵnov"](e,123).disabled]),n(e,131,1,[h["ɵnov"](e,132).indeterminate,h["ɵnov"](e,132).checked,h["ɵnov"](e,132).disabled,"before"==h["ɵnov"](e,132).labelPosition,h["ɵnov"](e,136).ngClassUntouched,h["ɵnov"](e,136).ngClassTouched,h["ɵnov"](e,136).ngClassPristine,h["ɵnov"](e,136).ngClassDirty,h["ɵnov"](e,136).ngClassValid,h["ɵnov"](e,136).ngClassInvalid,h["ɵnov"](e,136).ngClassPending]),n(e,140,1,[h["ɵnov"](e,141).indeterminate,h["ɵnov"](e,141).checked,h["ɵnov"](e,141).disabled,"before"==h["ɵnov"](e,141).labelPosition,h["ɵnov"](e,145).ngClassUntouched,h["ɵnov"](e,145).ngClassTouched,h["ɵnov"](e,145).ngClassPristine,h["ɵnov"](e,145).ngClassDirty,h["ɵnov"](e,145).ngClassValid,h["ɵnov"](e,145).ngClassInvalid,h["ɵnov"](e,145).ngClassPending]),n(e,149,1,[h["ɵnov"](e,150).indeterminate,h["ɵnov"](e,150).checked,h["ɵnov"](e,150).disabled,"before"==h["ɵnov"](e,150).labelPosition,h["ɵnov"](e,154).ngClassUntouched,h["ɵnov"](e,154).ngClassTouched,h["ɵnov"](e,154).ngClassPristine,h["ɵnov"](e,154).ngClassDirty,h["ɵnov"](e,154).ngClassValid,h["ɵnov"](e,154).ngClassInvalid,h["ɵnov"](e,154).ngClassPending]),n(e,169,0,h["ɵnov"](e,175).ngClassUntouched,h["ɵnov"](e,175).ngClassTouched,h["ɵnov"](e,175).ngClassPristine,h["ɵnov"](e,175).ngClassDirty,h["ɵnov"](e,175).ngClassValid,h["ɵnov"](e,175).ngClassInvalid,h["ɵnov"](e,175).ngClassPending),n(e,182,0,h["ɵnov"](e,184).disabled||null),n(e,188,1,[h["ɵnov"](e,191).ngClassUntouched,h["ɵnov"](e,191).ngClassTouched,h["ɵnov"](e,191).ngClassPristine,h["ɵnov"](e,191).ngClassDirty,h["ɵnov"](e,191).ngClassValid,h["ɵnov"](e,191).ngClassInvalid,h["ɵnov"](e,191).ngClassPending,h["ɵnov"](e,193).tabIndex,h["ɵnov"](e,193)._ariaLabel,h["ɵnov"](e,193).ariaLabelledby,h["ɵnov"](e,193).required.toString(),h["ɵnov"](e,193).disabled.toString(),(null==h["ɵnov"](e,193)._control?null:h["ɵnov"](e,193)._control.invalid)||"false",h["ɵnov"](e,193)._optionIds,h["ɵnov"](e,193).disabled]),n(e,205,0,l.data.graphSettings.type!=l.graphType),n(e,208,0,l.data.graphSettings.type!=l.gisType);n(e,212,0,null,h["ɵnov"](e,214)._isClosed,h["ɵnov"](e,214)._isClosing,h["ɵnov"](e,214)._isEnd,h["ɵnov"](e,214)._isOpened,h["ɵnov"](e,214)._isOpening,h["ɵnov"](e,214)._modeOver,h["ɵnov"](e,214)._modePush,h["ɵnov"](e,214)._modeSide)})}function c(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,1,"app-root",[],null,null,null,s,x)),h["ɵdid"](114688,null,0,p.a,[M.a,m.s],null,null)],function(n,e){n(e,1,0)},null)}var g=l("NhKt"),h=l("/oeL"),f=l("v6Q/"),m=l("Z04r"),p=l("wQAS"),v=l("qbdv"),b=l("fc+i"),y=l("bm2B"),E=l("ojGf"),S=l("Elx+"),_=l("ppG+"),R=l("wHIS"),C=l("vOym"),T=l("qwIr"),w=l("u/rB"),O=l("7i8B"),M=(l.n(O),l("gLK3"));l.d(e,"a",function(){return D});var I=[g.a],x=h["ɵcrt"]({encapsulation:0,styles:I,data:{}}),D=h["ɵccf"]("app-root",p.a,c,{},{},[])},qtrl:function(n,e){function l(n){throw new Error("Cannot find module '"+n+"'.")}l.keys=function(){return[]},l.resolve=l,n.exports=l,l.id="qtrl"},qwIr:function(n,e,l){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,7,"md-checkbox",[["class","mat-checkbox"],["color","primary"]],[[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"]],function(n,e,l){var t=!0,i=n.component;if("ngModelChange"===e){t=!1!==(n.context.row.selected=l)&&t}if("ngModelChange"===e){t=!1!==i.onSelect(n.context.row)&&t}return t},u.r,u.s)),r["ɵdid"](4374528,null,0,d._15,[r.Renderer2,r.ElementRef,r.ChangeDetectorRef,d.h],{color:[0,"color"]},null),r["ɵprd"](1024,null,s.d,function(n){return[n]},[d._15]),r["ɵdid"](671744,null,0,s.j,[[8,null],[8,null],[8,null],[2,s.d]],{model:[0,"model"]},{update:"ngModelChange"}),r["ɵprd"](2048,null,s.e,null,[s.j]),r["ɵdid"](16384,null,0,s.k,[s.e],null,null),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),(n()(),r["ɵted"](0,["\n    "])),(n()(),r["ɵted"](null,["\n  "]))],function(n,e){n(e,2,0,"primary"),n(e,4,0,e.context.row.selected)},function(n,e){n(e,1,1,[r["ɵnov"](e,2).indeterminate,r["ɵnov"](e,2).checked,r["ɵnov"](e,2).disabled,"before"==r["ɵnov"](e,2).labelPosition,r["ɵnov"](e,6).ngClassUntouched,r["ɵnov"](e,6).ngClassTouched,r["ɵnov"](e,6).ngClassPristine,r["ɵnov"](e,6).ngClassDirty,r["ɵnov"](e,6).ngClassValid,r["ɵnov"](e,6).ngClassInvalid,r["ɵnov"](e,6).ngClassPending])})}function i(n){return r["ɵvid"](0,[r["ɵqud"](402653184,1,{container:0}),r["ɵqud"](402653184,2,{table:0}),r["ɵqud"](402653184,3,{selectTmpl:0}),(n()(),r["ɵeld"](0,[[1,0],["container",1]],null,37,"div",[["id","container"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,25,"div",[["id","optionsBar"]],null,null,null,null,null)),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,4,"button",[["class","mat-raised-button"],["md-raised-button",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.onSelectAll()&&t}return t},u.b,u.c)),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,d._0,[r.Renderer2,r.ElementRef,d.b,d.h],null,null),r["ɵdid"](16384,null,0,d._16,[],null,null),(n()(),r["ɵted"](0,["Select All"])),(n()(),r["ɵted"](null,["\n    "])),(n()(),r["ɵeld"](0,null,null,16,"md-input-container",[["class","mat-input-container"]],[[1,"align",0],[2,"mat-input-invalid",null],[2,"mat-focused",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==r["ɵnov"](n,14)._focusInput()&&t}return t},u.t,u.u)),r["ɵdid"](7389184,null,6,d._17,[r.ElementRef,r.ChangeDetectorRef,[2,d._14]],null,null),r["ɵqud"](335544320,4,{_mdInputChild:0}),r["ɵqud"](335544320,5,{_placeholderChild:0}),r["ɵqud"](603979776,6,{_errorChildren:1}),r["ɵqud"](603979776,7,{_hintChildren:1}),r["ɵqud"](603979776,8,{_prefixChildren:1}),r["ɵqud"](603979776,9,{_suffixChildren:1}),(n()(),r["ɵted"](1,["\n      "])),(n()(),r["ɵeld"](0,null,1,6,"input",[["class","mat-input-element"],["mdInput",""],["placeholder","Filter"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[8,"id",0],[8,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"aria-describedby",0],[1,"aria-invalid",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],function(n,e,l){var t=!0,i=n.component;if("input"===e){t=!1!==r["ɵnov"](n,23)._handleInput(l.target.value)&&t}if("blur"===e){t=!1!==r["ɵnov"](n,23).onTouched()&&t}if("compositionstart"===e){t=!1!==r["ɵnov"](n,23)._compositionStart()&&t}if("compositionend"===e){t=!1!==r["ɵnov"](n,23)._compositionEnd(l.target.value)&&t}if("blur"===e){t=!1!==r["ɵnov"](n,28)._onBlur()&&t}if("focus"===e){t=!1!==r["ɵnov"](n,28)._onFocus()&&t}if("input"===e){t=!1!==r["ɵnov"](n,28)._onInput()&&t}if("ngModelChange"===e){t=!1!==(i.filter=l)&&t}if("ngModelChange"===e){t=!1!==i.onFilterChange()&&t}return t},null,null)),r["ɵdid"](16384,null,0,s.l,[r.Renderer,r.ElementRef,[2,s.m]],null,null),r["ɵprd"](1024,null,s.d,function(n){return[n]},[s.l]),r["ɵdid"](671744,null,0,s.j,[[8,null],[8,null],[8,null],[2,s.d]],{model:[0,"model"]},{update:"ngModelChange"}),r["ɵprd"](2048,null,s.e,null,[s.j]),r["ɵdid"](16384,null,0,s.k,[s.e],null,null),r["ɵdid"](16384,[[4,4]],0,d._18,[r.ElementRef,r.Renderer2,d.b,[2,s.e],[2,s.f],[2,s.g]],{placeholder:[0,"placeholder"]},null),(n()(),r["ɵted"](1,["\n    "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵeld"](0,null,null,5,"ngx-datatable",[["class","ngx-datatable"],["scrollbarV","true"]],[[2,"fixed-header",null],[2,"fixed-row",null],[2,"scroll-vertical",null],[2,"scroll-horz",null],[2,"selectable",null],[2,"checkbox-selection",null],[2,"cell-selection",null],[2,"single-selection",null],[2,"multi-selection",null],[2,"multi-click-selection",null]],[["window","resize"]],function(n,e,l){var t=!0;if("window:resize"===e){t=!1!==r["ɵnov"](n,33).onWindowResize()&&t}return t},g.a,g.b)),r["ɵdid"](4571136,[[2,4],["table",4]],3,h.DatatableComponent,[f.ScrollbarHelper,r.ElementRef,r.KeyValueDiffers],{rows:[0,"rows"],columns:[1,"columns"],scrollbarV:[2,"scrollbarV"],rowClass:[3,"rowClass"]},null),r["ɵqud"](603979776,10,{columnTemplates:1}),r["ɵqud"](335544320,11,{rowDetail:0}),r["ɵqud"](335544320,12,{footer:0}),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵand"](0,[[3,2],["selectTmpl",2]],null,0,null,t)),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"]))],function(n,e){var l=e.component;n(e,25,0,l.filter);n(e,28,0,"Filter");n(e,33,0,l.rows,l.columns,"true",l.getRowClass)},function(n,e){n(e,7,0,r["ɵnov"](e,9).disabled||null);n(e,13,0,null,r["ɵnov"](e,14)._mdInputChild._isErrorState(),r["ɵnov"](e,14)._mdInputChild.focused,r["ɵnov"](e,14)._shouldForward("untouched"),r["ɵnov"](e,14)._shouldForward("touched"),r["ɵnov"](e,14)._shouldForward("pristine"),r["ɵnov"](e,14)._shouldForward("dirty"),r["ɵnov"](e,14)._shouldForward("valid"),r["ɵnov"](e,14)._shouldForward("invalid"),r["ɵnov"](e,14)._shouldForward("pending")),n(e,22,1,[r["ɵnov"](e,27).ngClassUntouched,r["ɵnov"](e,27).ngClassTouched,r["ɵnov"](e,27).ngClassPristine,r["ɵnov"](e,27).ngClassDirty,r["ɵnov"](e,27).ngClassValid,r["ɵnov"](e,27).ngClassInvalid,r["ɵnov"](e,27).ngClassPending,r["ɵnov"](e,28).id,r["ɵnov"](e,28).placeholder,r["ɵnov"](e,28).disabled,r["ɵnov"](e,28).required,r["ɵnov"](e,28).ariaDescribedby||null,r["ɵnov"](e,28)._isErrorState()]),n(e,32,0,r["ɵnov"](e,33).isFixedHeader,r["ɵnov"](e,33).isFixedRow,r["ɵnov"](e,33).isVertScroll,r["ɵnov"](e,33).isHorScroll,r["ɵnov"](e,33).isSelectable,r["ɵnov"](e,33).isCheckboxSelection,r["ɵnov"](e,33).isCellSelection,r["ɵnov"](e,33).isSingleSelection,r["ɵnov"](e,33).isMultiSelection,r["ɵnov"](e,33).isMultiClickSelection)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"app-table",[],null,null,null,i,p)),r["ɵdid"](114688,null,0,c.a,[f.ScrollbarHelper],null,null)],function(n,e){n(e,1,0)},null)}var a=l("DrxL"),r=l("/oeL"),u=l("v6Q/"),d=l("Z04r"),s=l("bm2B"),c=l("u/rB"),g=l("LwgZ"),h=l("f2O0"),f=(l.n(h),l("7i8B"));l.n(f);l.d(e,"b",function(){return p}),e.a=i;var m=[a.a],p=r["ɵcrt"]({encapsulation:0,styles:m,data:{}});r["ɵccf"]("app-table",c.a,o,{},{},[])},sthP:function(n,e,l){"use strict";function t(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,5,"button",[["class","mat-button"],["md-button",""],["md-dialog-close",""],["type","button"]],[[8,"disabled",0],[1,"aria-label",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==r["ɵnov"](n,4).dialogRef.close(r["ɵnov"](n,4).dialogResult)&&t}if("click"===e){t=!1!==n.context.$implicit.action()&&t}return t},u.b,u.c)),r["ɵdid"](16384,null,0,d.Y,[[2,d.Z],r.ElementRef],null,null),r["ɵdid"](180224,null,0,d._0,[r.Renderer2,r.ElementRef,d.b,d.h],null,null),r["ɵdid"](16384,null,0,d._9,[],null,null),r["ɵdid"](16384,null,0,d._107,[d._100],{dialogResult:[0,"dialogResult"]},null),(n()(),r["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,4,0,"")},function(n,e){n(e,0,0,r["ɵnov"](e,2).disabled||null,r["ɵnov"](e,4).ariaLabel),n(e,5,0,e.context.$implicit.name)})}function i(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,2,"h1",[["class","mat-dialog-title"],["md-dialog-title",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,d._103,[],null,null),(n()(),r["ɵted"](null,["",""])),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵeld"](0,null,null,5,"div",[["class","mat-dialog-actions"],["md-dialog-actions",""]],null,null,null,null,null)),r["ɵdid"](16384,null,0,d._106,[],null,null),(n()(),r["ɵted"](null,["\n  "])),(n()(),r["ɵand"](16777216,null,null,1,null,t)),r["ɵdid"](802816,null,0,s.NgForOf,[r.ViewContainerRef,r.TemplateRef,r.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),r["ɵted"](null,["\n"])),(n()(),r["ɵted"](null,["\n"]))],function(n,e){n(e,8,0,e.component.data.actions)},function(n,e){n(e,2,0,e.component.data.title)})}function o(n){return r["ɵvid"](0,[(n()(),r["ɵeld"](0,null,null,1,"ng-component",[],null,null,null,i,h)),r["ɵdid"](49152,null,0,c.a,[d.X],null,null)],null,null)}var a=l("+coW"),r=l("/oeL"),u=l("v6Q/"),d=l("Z04r"),s=l("qbdv"),c=l("bfTB");l.d(e,"a",function(){return f});var g=[a.a],h=r["ɵcrt"]({encapsulation:0,styles:g,data:{}}),f=r["ɵccf"]("ng-component",c.a,o,{},{},[])},"u/rB":function(n,e,l){"use strict";var t=l("Dqrr"),i=(l.n(t),l("7i8B")),o=(l.n(i),l("mQ3I")),a=(l.n(o),l("bsaU")),r=l("15l/"),u=l("VR9T");l.d(e,"a",function(){return d});var d=function(){function n(n){this.scrollbarHelper=n,this.mode=u.a.DEFAULT_TABLE_MODE,this.stationColumns=u.a.DEFAULT_TABLE_STATION_COLUMNS.toArray(),this.deliveryColumns=u.a.DEFAULT_TABLE_DELIVERY_COLUMNS.toArray(),this.showType=u.a.DEFAULT_TABLE_SHOW_TYPE;var e=document.createElement("style");e.type="text/css",e.innerHTML="",e.innerHTML+="datatable-body-row { background-color: rgb(255, 255, 255) !important; }";for(var l=0,t=a.a.getAllCombinations(u.a.PROPERTIES_WITH_COLORS.toArray());l<t.length;l++){var i=t[l];if(e.innerHTML+="datatable-body-row",1===i.length){var o=a.a.colorToCss(u.a.PROPERTIES.get(i[0]).color);e.innerHTML+="."+i[0]+" { background-color: "+o+" !important; }"}else{for(var r=0,d=i;r<d.length;r++){var s=d[r];e.innerHTML+="."+s}e.innerHTML+=" { background: repeating-linear-gradient(90deg";for(var c=0;c<i.length;c++){var o=a.a.colorToCss(u.a.PROPERTIES.get(i[c]).color),g=0===c?c/i.length*100+"%":(c+.2)/i.length*100+"%",h=c===i.length-1?(c+1)/i.length*100+"%":(c+.8)/i.length*100+"%";e.innerHTML+=", "+o+" "+g+", "+o+" "+h}e.innerHTML+=") !important; }"}}document.head.appendChild(e)}return n.filterRows=function(n,e){var l=null==e?[]:e.split(/\s+/g).map(function(n){return n.trim().toLowerCase()}).filter(function(n){return n.length>0});return n.filter(function(n){return null==l.find(function(e){return-1===n.stringContent.indexOf(e)})}).map(function(n){return n.content})},n.prototype.ngOnInit=function(){var n=this;window.onresize=function(){t.Observable.timer(500).subscribe(function(){n.update()})},new o.ResizeSensor(this.container.nativeElement,function(){null!=n.resizeTimer&&n.resizeTimer.unsubscribe(),n.resizeTimer=t.Observable.timer(100).subscribe(function(){null!=n.columns&&(n.columns=n.getUpdatedColumns(n.columns),n.table.recalculate())})}),this.table.onColumnReorder=function(){}},n.prototype.init=function(n){this.data=n,this.update()},n.prototype.setMode=function(n){this.mode=n,this.update()},n.prototype.setStationColumns=function(n){this.stationColumns=Array.from(n),this.update()},n.prototype.setDeliveryColumns=function(n){this.deliveryColumns=Array.from(n),this.update()},n.prototype.setShowType=function(n){this.showType=n,this.update()},n.prototype.update=function(){var e=a.a.getTableProperties(this.mode,this.stationColumns,this.deliveryColumns),l={name:" ",prop:"selected",resizable:!1,draggable:!1,cellTemplate:this.selectTmpl};if(this.columns=this.getUpdatedColumns([l].concat(e.map(function(n){return{name:u.a.PROPERTIES.has(n)?u.a.PROPERTIES.get(n).name:'"'+n+'"',prop:n,resizeable:!1,draggable:!1}}))),null!=this.data){var t=[];this.mode===r.c.STATIONS?t=this.data.stations.filter(function(n){return!n.invisible&&!n.contained}):this.mode===r.c.DELIVERIES&&(t=this.data.deliveries.filter(function(n){return!n.invisible})),this.showType===r.e.SELECTED_ONLY?t=t.filter(function(n){return n.selected}):this.showType===r.e.TRACE_ONLY&&(t=t.filter(function(n){return n.forward||n.backward||n.observed!==r.a.NONE}));var i=new Set(e);this.unfilteredRows=t.map(function(n){for(var e=JSON.parse(JSON.stringify(n)),l="",t=0,o=Object.keys(n);t<o.length;t++){var a=o[t];i.has(a)&&(l+=String(n[a]).trim().toLowerCase()+" ")}for(var r=0,u=n.properties;r<u.length;r++){var d=u[r];i.has(d.name)&&(e[d.name]=d.value,l+=d.value.trim().toLowerCase()+" ")}return{content:e,stringContent:l.trim()}}),this.rows=n.filterRows(this.unfilteredRows,this.filter)}else this.unfilteredRows=[],this.rows=[];this.table.recalculate()},n.prototype.onSelectionChange=function(n){this.changeFunction=n},n.prototype.onFilterChange=function(){this.rows=n.filterRows(this.unfilteredRows,this.filter),this.table.recalculatePages()},n.prototype.getRowClass=function(n){return{selected:n.selected,forward:n.forward,backward:n.backward,observed:n.observed!==r.a.NONE,outbreak:n.outbreak,crossContamination:n.crossContamination,commonLink:n.commonLink}},n.prototype.onSelect=function(n){this.mode===r.c.STATIONS?this.data.stations.find(function(e){return e.id===n.id}).selected=n.selected:this.mode===r.c.DELIVERIES&&(this.data.deliveries.find(function(e){return e.id===n.id}).selected=n.selected),this.showType!==r.e.SELECTED_ONLY||n.selected||this.rows.splice(this.rows.findIndex(function(e){return e.id===n.id}),1),null!=this.changeFunction&&this.changeFunction()},n.prototype.onSelectAll=function(){this.rows.forEach(function(n){return n.selected=!0});for(var n=new Set(this.rows.map(function(n){return n.id})),e=!1,l=0,t=a.a.getTableElements(this.mode,this.data);l<t.length;l++){var i=t[l];n.has(i.id)&&(i.selected||(e=!0),i.selected=!0)}e&&null!=this.changeFunction&&this.changeFunction()},n.prototype.getUpdatedColumns=function(n){for(var e=this.container.nativeElement.offsetWidth-this.scrollbarHelper.width,l=(e-40)/(n.length-1),t=!0,i=0,o=n;i<o.length;i++){var a=o[i],r=t?40:l;a.width=r,a.minWidth=r,a.maxWidth=r,t=!1}return n},n.ctorParameters=function(){return[{type:i.ScrollbarHelper}]},n}()},vOym:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r"),o=l("Dqrr"),a=(l.n(o),l("rgUS")),r=(l.n(a),l("HmWU")),u=(l.n(r),l("abAz")),d=l.n(u),s=l("4AbN"),c=l.n(s),g=l("mQ3I"),h=(l.n(g),l("YCPO")),f=l("vZKz"),m=l("UAJL"),p=l("bsaU"),v=l("ppG+"),b=l("15l/"),y=l("VR9T");l.d(e,"a",function(){return E});var E=function(){function n(n,e,l){this.tracingService=n,this.dialogService=e,this.elementRef=l,this.graphMenuActions=this.createGraphActions(),this.stationMenuActions=this.createStationActions(null),this.deliveryMenuActions=this.createDeliveryActions(null),this.traceMenuActions=this.createTraceActions(null),this.showZoom=y.a.DEFAULT_GRAPH_SHOW_ZOOM,this.showLegend=y.a.DEFAULT_GRAPH_SHOW_LEGEND,this.legend=y.a.PROPERTIES_WITH_COLORS.toArray().map(function(n){var e=y.a.PROPERTIES.get(n);return{name:e.name,color:p.a.colorToCss(e.color)}}),this.zoom=5,this.sliding=!1,this.mergeDeliveries=y.a.DEFAULT_GRAPH_MERGE_DELIVERIES,this.nodeSize=y.a.DEFAULT_GRAPH_NODE_SIZE,this.fontSize=y.a.DEFAULT_GRAPH_FONT_SIZE,this.selectTimerActivated=!0,this.hoverDeliveries=new o.Subject}return n.prototype.ngOnInit=function(){var n=this;this.map=new r.Map({target:this.mapElement.nativeElement,layers:[new r.layer.Tile({source:new r.source.OSM})],controls:[]}),window.onresize=function(){o.Observable.timer(500).subscribe(function(){null!=n.cy&&n.resizeGraphAndMap()})},new g.ResizeSensor(this.containerElement.nativeElement,function(){null!=n.resizeTimer&&n.resizeTimer.unsubscribe(),null!=n.cy&&(n.resizeTimer=o.Observable.timer(100).subscribe(function(){return n.resizeGraphAndMap()}))}),this.stationMenuTrigger.onMenuOpen.subscribe(function(){return n.updateOverlay()}),this.stationMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()}),this.deliveryMenuTrigger.onMenuOpen.subscribe(function(){return n.updateOverlay()}),this.deliveryMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()}),this.traceMenuTrigger.onMenuClose.subscribe(function(){return n.updateOverlay()})},n.prototype.init=function(n,e){var l=this;this.data=n,this.tracingService.init(n),null==e&&(e=this.fit()),this.zoom=e.zoom,this.cy=d()({container:this.graphElement.nativeElement,elements:{nodes:this.createNodes(),edges:this.createEdges()},layout:{name:"preset",zoom:1,pan:e.pan},style:this.createStyle(),zoomingEnabled:!1,autoungrabify:!0});var t,i,o=new a.Manager(this.cy.container().children.item(0).children.item(0),{recognizers:[[a.Pinch]]});o.on("pinchstart",function(n){l.cy.userPanningEnabled(!1);var e=l.cy.container().getBoundingClientRect();t={x:n.center.x-e.left,y:n.center.y-e.top},i=n.scale}),o.on("pinchin pinchout",function(n){l.zoomTo(l.zoom*n.scale/i,t.x,t.y),i=n.scale}),o.on("pinchend pinchcancel",function(){t=null,i=null,l.cy.userPanningEnabled(!0)}),this.cy.container().children.item(0).children.item(0).addEventListener("wheel",function(n){l.zoomTo(l.zoom*Math.pow(10,1===n.deltaMode?n.deltaY/-25:n.deltaY/-250),n.offsetX,n.offsetY)},!1),this.cy.on("pan",function(){return l.map.setView(p.a.panZoomToView(l.cy.pan(),l.zoom,l.cy.width(),l.cy.height()))}),this.cy.on("select",function(n){return l.setSelected(n.target.id(),!0)}),this.cy.on("unselect",function(n){return l.setSelected(n.target.id(),!1)}),this.cy.on("cxttap",function(n){var e=n.target,t={x:n.originalEvent.offsetX,y:n.originalEvent.offsetY};e===l.cy?(l.contextMenuElement=null,p.a.openMenu(l.graphMenuTrigger,l.graphMenuTriggerElement,t)):e.isNode()?(l.contextMenuElement=e,l.stationMenuActions=l.createStationActions(e),p.a.openMenu(l.stationMenuTrigger,l.stationMenuTriggerElement,t)):e.isEdge()&&(l.contextMenuElement=e,l.deliveryMenuActions=l.createDeliveryActions(e),p.a.openMenu(l.deliveryMenuTrigger,l.deliveryMenuTriggerElement,t))}),this.hoverDeliveries.subscribe(function(n){for(var e=new Set,t=0,i=n;t<i.length;t++){var o=i[t];e.add(l.mergeToMap.has(o)?l.mergeToMap.get(o):o)}l.cy.batch(function(){l.hoverableEdges.filter(function(n){return!e.has(n.id())}).scratch("_active",!1),l.hoverableEdges.filter(function(n){return e.has(n.id())}).scratch("_active",!0)})}),this.setFontSize(this.fontSize),this.setShowLegend(this.showLegend),this.updateSlider(),this.resizeGraphAndMap(),this.map.setView(p.a.panZoomToView(this.cy.pan(),this.zoom,this.cy.width(),this.cy.height()))},n.prototype.onChange=function(n){this.changeFunction=n},n.prototype.getLayout=function(){return null!=this.cy?{zoom:this.zoom,pan:this.cy.pan()}:null},n.prototype.getCanvas=function(){var n=this;return new Promise(function(e){c()(n.containerElement.nativeElement,{onrendered:function(n){e(n)}})})},n.prototype.setMergeDeliveries=function(n){this.mergeDeliveries=n,null!=this.cy&&this.updateEdges()},n.prototype.setNodeSize=function(n){this.nodeSize=n,null!=this.cy&&this.updateProperties()},n.prototype.setFontSize=function(e){this.fontSize=e,null!=this.cy&&this.cy.nodes().style({"font-size":n.FONT_SIZES.get(e)})},n.prototype.setShowLegend=function(n){this.showLegend=n},n.prototype.setShowZoom=function(n){this.showZoom=n},n.prototype.updateSelection=function(){var n=this;null!=this.cy&&(this.selectTimerActivated=!1,this.mergeDeliveries?(this.updateEdges(),this.cy.batch(function(){n.cy.nodes(":selected[!selected]").unselect(),n.cy.nodes(":unselected[?selected]").select()})):this.cy.batch(function(){n.cy.elements(":selected[!selected]").unselect(),n.cy.elements(":unselected[?selected]").select()}),this.selectTimerActivated=!0)},n.prototype.zoomInPressed=function(){this.zoomTo(this.zoom*n.ZOOM_FACTOR,this.cy.width()/2,this.cy.height()/2)},n.prototype.zoomOutPressed=function(){this.zoomTo(this.zoom/n.ZOOM_FACTOR,this.cy.width()/2,this.cy.height()/2)},n.prototype.zoomResetPressed=function(){this.applyLayout(this.fit()),this.updateSlider()},n.prototype.sliderChanged=function(){var e=Math.exp(this.slider.value/100*Math.log(n.MAX_ZOOM/n.MIN_ZOOM))*n.MIN_ZOOM;this.sliding=!0,this.zoomTo(e,this.cy.width()/2,this.cy.height()/2),this.sliding=!1},n.prototype.createNodes=function(){for(var n=[],e=0,l=this.data.stations;e<l.length;e++){var t=l[e];t.contained||t.invisible||n.push({group:"nodes",data:t,selected:t.selected,position:p.a.latLonToPosition(t.lat,t.lon,this.zoom)})}return n},n.prototype.createEdges=function(){var n=this,e=[];if(this.mergeMap=new Map,this.mergeToMap=new Map,this.mergeDeliveries){for(var l=new Map,t=0,i=this.data.deliveries;t<i.length;t++){var o=i[t];if(!o.invisible){var a=o.source+y.a.ARROW_STRING+o.target,r=l.get(a);l.set(a,null==r?[o]:r.concat(o))}}l.forEach(function(l,t){if(1===l.length)e.push({group:"edges",data:l[0],selected:l[0].selected});else{var i=l.find(function(n){return n.observed!==b.a.NONE}),o=null!=l.find(function(n){return n.selected});l.forEach(function(e){return n.mergeToMap.set(e.id,t)}),n.mergeMap.set(t,l.map(function(n){return n.id})),e.push({group:"edges",data:{id:t,name:t,lot:null,date:null,source:l[0].source,target:l[0].target,originalSource:l[0].source,originalTarget:l[0].target,invisible:!1,selected:o,observed:null!=i?i.observed:b.a.NONE,forward:null!=l.find(function(n){return n.forward}),backward:null!=l.find(function(n){return n.backward}),score:0,properties:[]},selected:o})}})}else for(var u=0,d=this.data.deliveries;u<d.length;u++){var o=d[u];o.invisible||e.push({group:"edges",data:o,selected:o.selected})}return e},n.prototype.updateEdges=function(){var n=this;this.cy.batch(function(){n.cy.edges().remove(),n.cy.add(n.createEdges())})},n.prototype.updateProperties=function(){this.mergeDeliveries?(this.updateEdges(),this.cy.nodes().scratch("_update",!0)):this.cy.elements().scratch("_update",!0)},n.prototype.updateAll=function(){var n=this;this.cy.batch(function(){n.cy.elements().remove(),n.cy.add(n.createNodes()),n.cy.add(n.createEdges()),n.setFontSize(n.fontSize)})},n.prototype.createStyle=function(){for(var e=this,l=function(l){var t=n.NODE_SIZES.get(e.nodeSize);return e.tracingService.getMaxScore()>0?(.5+.5*l.data("score")/e.tracingService.getMaxScore())*t:t},t=d.a.stylesheet().selector("*").style({"overlay-color":"rgb(0, 0, 255)","overlay-padding":10,"overlay-opacity":function(n){return n.scratch("_active")?.5:0}}).selector("node").style({content:"data(name)",height:l,width:l,"background-color":"rgb(255, 255, 255)","border-width":3,"border-color":"rgb(0, 0, 0)","text-valign":"bottom","text-halign":"right",color:"rgb(0, 0, 0)"}).selector("edge").style({"target-arrow-shape":"triangle",width:6,"line-color":"rgb(0, 0, 0)","target-arrow-color":"rgb(255, 0, 0)","curve-style":"bezier"}).selector("node:selected").style({"background-color":"rgb(128, 128, 255)","border-width":6,"border-color":"rgb(0, 0, 255)",color:"rgb(0, 0, 255)"}).selector("edge:selected").style({width:12}).selector("node[?contains]").style({"border-width":6}).selector("node:selected[?contains]").style({"border-width":9}).selector(":active").style({"overlay-opacity":.5}),i=function(n){return"observed"===n?"["+n+' != "'+b.a.NONE+'"]':"[?"+n+"]"},o=function(n){var e={};if(1===n.length)e["background-color"]=p.a.colorToCss(n[0]);else for(var l=0;l<n.length;l++)e["pie-"+(l+1)+"-background-color"]=p.a.colorToCss(n[l]),e["pie-"+(l+1)+"-background-size"]=100/n.length;return e},a=0,r=p.a.getAllCombinations(y.a.PROPERTIES_WITH_COLORS.toArray());a<r.length;a++){for(var u=r[a],s=[],c=[],g=[],h=0,f=u;h<f.length;h++){var m=f[h],v=y.a.PROPERTIES.get(m).color;s.push(i(m)),c.push(v),g.push(p.a.mixColors(v,{r:0,g:0,b:255}))}t=t.selector("node"+s.join("")).style(o(c)),t=t.selector("node:selected"+s.join("")).style(o(g))}for(var E=0,S=y.a.PROPERTIES_WITH_COLORS.toArray();E<S.length;E++){var m=S[E];t=t.selector("edge"+i(m)).style({"line-color":p.a.colorToCss(y.a.PROPERTIES.get(m).color)})}return t},n.prototype.setSelected=function(n,e){var l=this;if(this.mergeMap.has(n))for(var t=0,i=this.mergeMap.get(n);t<i.length;t++){var a=i[t];this.tracingService.setSelected(a,e)}else this.tracingService.setSelected(n,e);this.selectTimerActivated&&(null!=this.selectTimer&&this.selectTimer.unsubscribe(),this.selectTimer=o.Observable.timer(50).subscribe(function(){return l.callChangeFunction()}))},n.prototype.createGraphActions=function(){var n=this;return[{name:"Clear Trace",enabled:!0,action:function(){n.tracingService.clearTrace(),n.updateProperties(),n.callChangeFunction()}},{name:"Clear Outbreak Stations",enabled:!0,action:function(){n.tracingService.clearOutbreakStations(),n.setNodeSize(n.nodeSize),n.callChangeFunction()}},{name:"Clear Invisibility",enabled:!0,action:function(){n.tracingService.clearInvisibility(),n.updateAll(),n.callChangeFunction()}}]},n.prototype.createStationActions=function(n){var e=this,l=null,t=!1,i=!1,o=!1,a=!1;return null!=this.cy&&null!=n&&(l=this.cy.nodes(":selected"),t=n.selected()&&l.size()>1,i=t?l.allAre("[?outbreak]"):n.data("outbreak"),o=t?l.allAre("[?crossContamination]"):n.data("crossContamination"),a=t?l.allAre("[?contains]"):n.data("contains")),[{name:"Show Properties",enabled:!t,action:function(){for(var l=e.tracingService.getStationsById([n.id()])[0],t=new Map,i=new Map,o=0,a=e.tracingService.getDeliveriesById(l.incoming);o<a.length;o++){var r=a[o];t.set(r.id,r),i.set(r.source,e.tracingService.getStationsById([r.source])[0])}for(var u=0,d=e.tracingService.getDeliveriesById(l.outgoing);u<d.length;u++){var r=d[u];t.set(r.id,r),i.set(r.target,e.tracingService.getStationsById([r.target])[0])}var s={station:l,deliveries:t,connectedStations:i,hoverDeliveries:e.hoverDeliveries};e.hoverableEdges=n.connectedEdges(),e.dialogService.open(f.a,{data:s}).afterClosed().subscribe(function(l){e.updateOverlay(),l&&(e.tracingService.setConnectionsOfStation(n.id(),l),e.updateProperties())})}},{name:"Show Trace",enabled:!t,action:function(l){e.traceMenuActions=e.createTraceActions(n),p.a.openMenu(e.traceMenuTrigger,e.traceMenuTriggerElement,e.getCyCoordinates(l))}},{name:i?"Unmark as Outbreak":"Mark as Outbreak",enabled:!0,action:function(){e.tracingService.markStationsAsOutbreak(t?l.map(function(n){return n.id()}):[n.id()],!i),e.setNodeSize(e.nodeSize),e.callChangeFunction()}},{name:o?"Unset Cross Contamination":"Set Cross Contamination",enabled:!0,action:function(){e.tracingService.setCrossContaminationOfStations(t?l.map(function(n){return n.id()}):[n.id()],!o),e.updateProperties(),e.setNodeSize(e.nodeSize),e.callChangeFunction()}},{name:"Make Invisible",enabled:!0,action:function(){e.tracingService.makeStationsInvisible(t?l.map(function(n){return n.id()}):[n.id()]),e.updateAll(),e.callChangeFunction()}},{name:"Merge Stations",enabled:t,action:function(){var n={title:"Input",message:"Please specify name of meta station:",placeholder:"Name"};e.dialogService.open(h.a,{data:n}).afterClosed().subscribe(function(n){e.updateOverlay(),null!=n&&(e.tracingService.mergeStations(l.map(function(n){return n.id()}),n),e.updateAll(),e.callChangeFunction())})}},{name:"Expand",enabled:a,action:function(){e.tracingService.expandStations(t?l.map(function(n){return n.id()}):n.id()),e.updateAll(),e.callChangeFunction()}}]},n.prototype.createDeliveryActions=function(n){var e=this;return[{name:"Show Properties",enabled:!0,action:function(){if(e.mergeMap.has(n.id()))p.a.showErrorMessage(e.dialogService,"Showing Properties of merged delivery is not supported!").afterClosed().subscribe(function(){return e.updateOverlay()});else{var l={delivery:e.tracingService.getDeliveriesById([n.id()])[0]};e.dialogService.open(m.a,{data:l}).afterClosed().subscribe(function(){return e.updateOverlay()})}}},{name:"Show Trace",enabled:!0,action:function(l){e.mergeMap.has(n.id())?p.a.showErrorMessage(e.dialogService,"Showing Trace of merged delivery is not supported!").afterClosed().subscribe(function(){return e.updateOverlay()}):(e.traceMenuActions=e.createTraceActions(n),p.a.openMenu(e.traceMenuTrigger,e.traceMenuTriggerElement,e.getCyCoordinates(l)))}}]},n.prototype.createTraceActions=function(n){var e=this;return[{name:"Forward Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationForwardTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryForwardTrace(n.id()),e.updateProperties(),e.callChangeFunction()}},{name:"Backward Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationBackwardTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryBackwardTrace(n.id()),e.updateProperties(),e.callChangeFunction()}},{name:"Full Trace",enabled:!0,action:function(){n.isNode()?e.tracingService.showStationTrace(n.id()):n.isEdge()&&e.tracingService.showDeliveryTrace(n.id()),e.updateProperties(),e.callChangeFunction()}}]},n.prototype.callChangeFunction=function(){null!=this.changeFunction&&this.changeFunction()},n.prototype.updateOverlay=function(){if(null!=this.contextMenuElement){var n=this.stationMenuTrigger.menuOpen||this.deliveryMenuTrigger.menuOpen||this.traceMenuTrigger.menuOpen||0!==this.dialogService._openDialogs.length;this.contextMenuElement.scratch("_active",n)}},n.prototype.zoomTo=function(e,l,t){(e=Math.min(Math.max(e,n.MIN_ZOOM),n.MAX_ZOOM))!==this.zoom&&(this.applyLayout({zoom:e,pan:{x:l+(this.cy.pan().x-l)*e/this.zoom,y:t+(this.cy.pan().y-t)*e/this.zoom}}),this.sliding||this.updateSlider())},n.prototype.applyLayout=function(n){var e=this;this.zoom=n.zoom,this.cy.batch(function(){e.cy.pan(n.pan),e.cy.nodes().positions(function(e){return p.a.latLonToPosition(e.data("lat"),e.data("lon"),n.zoom)})}),this.map.setView(p.a.panZoomToView(n.pan,n.zoom,this.cy.width(),this.cy.height()))},n.prototype.updateSlider=function(){this.zoomSliderValue=Math.round(Math.log(this.zoom/n.MIN_ZOOM)/Math.log(n.MAX_ZOOM/n.MIN_ZOOM)*100)},n.prototype.getCyCoordinates=function(n){var e=this.cy.container().getBoundingClientRect();return{x:n.pageX-e.left,y:n.pageY-e.top}},n.prototype.resizeGraphAndMap=function(){this.cy.resize(),this.map.updateSize(),this.map.setView(p.a.panZoomToView(this.cy.pan(),this.zoom,this.cy.width(),this.cy.height()))},n.prototype.fit=function(){for(var e=this.containerElement.nativeElement.offsetWidth,l=this.containerElement.nativeElement.offsetHeight,t=n.NODE_SIZES.get(this.nodeSize)/2,i=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,u=0,d=this.data.stations;u<d.length;u++){var s=d[u];if(!s.contained&&!s.invisible){var c=p.a.latLonToPosition(s.lat,s.lon,1);i=Math.min(i,c.x),o=Math.min(o,c.y),a=Math.max(a,c.x),r=Math.max(r,c.y)}}var g;return g=a>i&&r>o?Math.min((e-2*t)/(a-i),(l-2*t)/(r-o)):1,{zoom:g,pan:{x:(-i*g+t+(-a*g+e-t))/2,y:(-o*g+t+(-r*g+l-t))/2}}},n.ctorParameters=function(){return[{type:v.a},{type:i.s},{type:t.ElementRef}]},n}();E.MIN_ZOOM=.1,E.MAX_ZOOM=100,E.ZOOM_FACTOR=1.5,E.NODE_SIZES=new Map([[b.f.SMALL,50],[b.f.MEDIUM,75],[b.f.LARGE,100]]),E.FONT_SIZES=new Map([[b.f.SMALL,10],[b.f.MEDIUM,14],[b.f.LARGE,18]])},vZKz:function(n,e,l){"use strict";var t=l("/oeL"),i=l("Z04r"),o=l("0z5Q"),a=(l.n(o),l("15l/")),r=l("VR9T"),u=l("bsaU");l.d(e,"a",function(){return s});var d=function(){function n(n,e,l){this.nodeInData=n,this.nodeOutData=e,this.edgeData=l,this.inIds=[],this.inConnections=new Map,this.outIds=[],this.outConnections=new Map;for(var t=0,i=n;t<i.length;t++){var o=i[t];this.inIds.push(o.id),this.inConnections.set(o.id,[])}for(var a=0,r=e;a<r.length;a++){var o=r[a];this.outIds.push(o.id),this.outConnections.set(o.id,[])}for(var u=0,d=l;u<d.length;u++){var s=d[u];this.inConnections.get(s.source.id).push(s.target.id),this.outConnections.get(s.target.id).push(s.source.id)}}return n.prototype.optimize=function(){var n=this;this.step(this.inIds,this.inConnections,this.outIds),this.step(this.outIds,this.outConnections,this.inIds);for(var e=new Map,l=new Map,t=0,i=this.nodeInData;t<i.length;t++){var o=i[t];e.set(o.id,o)}for(var a=0,r=this.nodeOutData;a<r.length;a++){var o=r[a];l.set(o.id,o)}this.inIds.forEach(function(l,t){n.nodeInData[t]=e.get(l)}),this.outIds.forEach(function(e,t){n.nodeOutData[t]=l.get(e)})},n.prototype.step=function(n,e,l){var t=new Map;l.forEach(function(n,e){return t.set(n,e)});for(var i=new Map,o=0,a=n;o<a.length;o++){for(var r=a[o],u=e.get(r),d=0,s=0,c=u;s<c.length;s++){var g=c[s];d+=t.get(g)}i.set(r,u.length>0?d/u.length:1/0)}var h=Array.from(i.entries());h.sort(function(n,e){return n[1]-e[1]}),h.forEach(function(e,l){n[l]=e[0]})},n}(),s=function(){function n(e,l){if(this.dialogRef=e,this.data=l,this.propertiesHidden=!1,this.dialogAlign=a.b.CENTER,this.title=l.station.name,this.properties=Object.keys(l.station).filter(function(n){return r.a.PROPERTIES.has(n)&&"name"!==n&&"incoming"!==n&&"outgoing"!==n}).map(function(n){var e=l.station[n];return{name:r.a.PROPERTIES.get(n).name,value:null!=e?String(e):""}}).concat(l.station.properties.map(function(n){return{name:'"'+n.name+'"',value:null!=n.value?n.value:""}})),l.station.incoming.length>0||l.station.outgoing.length>0){var t=this.getIngredientsByLot();this.lotBased=null!=t,this.lotBased?this.initLotBasedData(t):this.initDeliveryBasedData();new d(this.nodeInData,this.nodeOutData,this.edgeData).optimize();for(var i=1,o=1,u=0,s=this.nodeInData;u<s.length;u++){var c=s[u];c.x=1,c.y=i,i+=n.NODE_HEIGHT+n.NODE_PADDING}for(var g=0,h=this.nodeOutData;g<h.length;g++){var c=h[g];c.x=n.SVG_WIDTH-n.NODE_WIDTH-1,c.y=o,o+=n.NODE_HEIGHT+n.NODE_PADDING}this.height=Math.max(i,o)-n.NODE_PADDING+1}}return n.line=function(n,e,l,t){return"M"+n+","+e+"L"+l+","+t},n.prototype.close=function(){var n;if(this.lotBased){n=[];for(var e=0,l=this.edgeData;e<l.length;e++)for(var t=l[e],i=0,o=this.deliveriesByLot.get(t.target.id);i<o.length;i++){var a=o[i];n.push({source:t.source.id,target:a})}}else n=this.edgeData.map(function(n){return{source:n.source.id,target:n.target.id}});this.dialogRef.close(n)},n.prototype.ngOnInit=function(){var e=this;if(null!=this.height){this.svg=o.select(this.inOutConnector.nativeElement).append("svg").attr("display","block").attr("width",n.SVG_WIDTH).attr("height",this.height).on("click",function(){e.selected=null,e.connectLine.attr("visibility","hidden")});var l=this.svg.append("defs"),t=this.svg.append("g");l.append("marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",7).attr("markerWidth",3.5).attr("markerHeight",3.5).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","rgb(0, 0, 0)"),this.connectLine=t.append("path").attr("marker-end","url(#end-arrow)").attr("visibility","hidden").attr("fill","none").attr("stroke","rgb(0, 0, 0)").attr("stroke-width","6px").attr("cursor","default"),this.edgesG=t.append("g"),this.nodesInG=t.append("g"),this.nodesOutG=t.append("g"),this.addNodes(),this.updateEdges(),o.select("body").on("mousemove",function(){return e.updateConnectLine()})}this.dialogRef.updatePosition(u.a.getDialogPosition(this.dialogAlign))},n.prototype.ngOnDestroy=function(){o.select("body").on("mousemove",null),this.data.hoverDeliveries.next([])},n.prototype.moveLeft=function(){this.dialogAlign=this.dialogAlign===a.b.RIGHT?a.b.CENTER:a.b.LEFT,this.dialogRef.updatePosition(u.a.getDialogPosition(this.dialogAlign))},n.prototype.moveRight=function(){this.dialogAlign=this.dialogAlign===a.b.LEFT?a.b.CENTER:a.b.RIGHT,this.dialogRef.updatePosition(u.a.getDialogPosition(this.dialogAlign))},n.prototype.toggleProperties=function(){this.propertiesHidden=!this.propertiesHidden},n.prototype.createNode=function(n){var e=this.data.deliveries.get(n),l=this.data.connectedStations.get(e.source!==this.data.station.id?e.source:e.target);return{id:n,name:e.name,station:l.name,lot:e.lot,date:e.date,x:null,y:null}},n.prototype.getIngredientsByLot=function(){for(var n=this,e=new Map,l=0,t=this.data.station.outgoing;l<t.length;l++){var i=t[l];e.set(i,new Set)}for(var o=0,a=this.data.station.connections;o<a.length;o++){var r=a[o];e.get(r.target).add(r.source)}var u=new Map,d=!0;return e.forEach(function(e,l){var t=n.data.deliveries.get(l).lot;if(null==t)d=!1;else if(u.has(t)){var i=u.get(t),o=e.size===i.size&&null==Array.from(e).find(function(n){return!i.has(n)});o||(d=!1)}else u.set(t,e)}),d?u:null},n.prototype.initDeliveryBasedData=function(){for(var n=new Map,e=new Map,l=0,t=this.data.station.incoming;l<t.length;l++){var i=t[l];n.set(i,this.createNode(i))}for(var o=0,a=this.data.station.outgoing;o<a.length;o++){var i=a[o];e.set(i,this.createNode(i))}this.nodeInData=Array.from(n.values()),this.nodeOutData=Array.from(e.values()),this.edgeData=[];for(var r=0,u=this.data.station.connections;r<u.length;r++){var d=u[r];this.edgeData.push({source:n.get(d.source),target:e.get(d.target)})}},n.prototype.initLotBasedData=function(n){var e=this;this.deliveriesByLot=new Map,this.data.deliveries.forEach(function(n){e.deliveriesByLot.has(n.lot)?e.deliveriesByLot.get(n.lot).push(n.id):e.deliveriesByLot.set(n.lot,[n.id])});for(var l=new Map,t=new Map,i=0,o=this.data.station.incoming;i<o.length;i++){var a=o[i];l.set(a,this.createNode(a))}this.nodeInData=Array.from(l.values()),this.edgeData=[],n.forEach(function(n,i){for(var o=new Set,a=0,r=e.deliveriesByLot.get(i);a<r.length;a++){var u=r[a];o.add(e.data.deliveries.get(u).name)}t.set(i,{id:i,name:Array.from(o).join("/"),station:null,lot:i,date:null,x:null,y:null}),n.forEach(function(n){e.edgeData.push({source:l.get(n),target:t.get(i)})})}),this.nodeOutData=Array.from(t.values())},n.prototype.addNodes=function(){var e=function(n,e){n.selectAll("rect").attr("fill",e?"rgb(128, 128, 255)":"rgb(255, 255, 255)").attr("stroke",e?"rgb(0, 0, 255)":"rgb(0, 0, 0)")},l=function(l,t){l.attr("transform",function(n){return"translate("+n.x+","+n.y+")"}),l.append("rect").attr("stroke-width","2px").attr("width",n.NODE_WIDTH).attr("height",n.NODE_HEIGHT),e(l,!1);var i=l.append("text").attr("text-anchor","left");i.append("tspan").attr("x",5).attr("dy",15).attr("font-size","14px").text(function(n){return null!=n.lot?n.name+" ("+n.lot+")":n.name}),i.filter(function(n){return null!=n.station}).append("tspan").attr("x",5).attr("dy",15).attr("font-size","14px").text(function(n){return t?"from: "+n.station:"to: "+n.station}),i.filter(function(n){return null!=n.date}).append("tspan").attr("x",5).attr("dy",15).attr("font-size","12px").text(function(n){return n.date})},t=this.nodesInG.selectAll("g").data(this.nodeInData,function(n){return n.id}).enter().append("g"),i=this.nodesOutG.selectAll("g").data(this.nodeOutData,function(n){return n.id}).enter().append("g");l(t,!0),l(i,!1);var a=this;t.on("mouseover",function(n){e(o.select(this),!0),a.data.hoverDeliveries.next([n.id])}).on("mouseout",function(){e(o.select(this),!1),a.data.hoverDeliveries.next([])}).on("click",function(n){null==a.selected&&(a.selected=n,a.updateConnectLine(),a.connectLine.attr("visibility","visible"),o.event.stopPropagation())}),i.on("mouseover",function(n){e(o.select(this),!0),a.data.hoverDeliveries.next(a.lotBased?a.deliveriesByLot.get(n.id):[n.id])}).on("mouseout",function(){e(o.select(this),!1),a.data.hoverDeliveries.next([])}).on("click",function(n){null!=a.selected&&null==a.edgeData.find(function(e){return e.source===a.selected&&e.target===n})&&(a.edgeData.push({source:a.selected,target:n}),a.updateEdges())})},n.prototype.updateEdges=function(){var e=function(n,e){n.attr("stroke",e?"rgb(0, 0, 255)":"rgb(0, 0, 0)")},l=this.edgesG.selectAll("path").data(this.edgeData,function(n){return n.source.id+r.a.ARROW_STRING+n.target.id}),t=l.enter().append("path").attr("d",function(e){return n.line(e.source.x+n.NODE_WIDTH,e.source.y+n.NODE_HEIGHT/2,e.target.x,e.target.y+n.NODE_HEIGHT/2)}).attr("fill","none").attr("stroke-width","6px").attr("cursor","default");e(t,!1),l.exit().remove();var i=this;t.on("mouseover",function(){null==i.selected&&e(o.select(this),!0)}).on("mouseout",function(){e(o.select(this),!1)}).on("click",function(n){null==i.selected&&(i.edgeData.splice(i.edgeData.indexOf(n),1),i.updateEdges())})},n.prototype.updateConnectLine=function(){if(null!=this.selected){var e=o.mouse(this.svg.node());this.connectLine.attr("d",n.line(this.selected.x+n.NODE_WIDTH,this.selected.y+n.NODE_HEIGHT/2,e[0],e[1]))}},n.ctorParameters=function(){return[{type:i._100},{type:StationPropertiesData,decorators:[{type:t.Inject,args:[i.X]}]}]},n}();s.SVG_WIDTH=600,s.NODE_PADDING=15,s.NODE_WIDTH=200,s.NODE_HEIGHT=50},wHIS:function(n,e,l){"use strict";function t(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,40,"div",[["id","zoom"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-in"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomInPressed()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._3,[[2,m._0],[8,null]],null,null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["add"])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-out"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomOutPressed()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._3,[[2,m._0],[8,null]],null,null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["remove"])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,9,"button",[["class","mat-mini-fab"],["id","zoom-reset"],["md-mini-fab",""]],[[8,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0,i=n.component;if("click"===e){t=!1!==i.zoomResetPressed()&&t}return t},f.b,f.c)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,null,0,m._0,[h.Renderer2,h.ElementRef,m.b,m.h],null,null),h["ɵdid"](16384,null,0,m._3,[[2,m._0],[8,null]],null,null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,3,"md-icon",[["class","mat-icon"],["role","img"]],null,null,null,f.d,f.e)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](638976,null,0,m._2,[h.Renderer2,h.ElementRef,m.t,[8,null]],null,null),(n()(),h["ɵted"](0,["zoom_out_map"])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,4,"md-slider",[["class","mat-slider"],["id","zoom-slider"],["role","slider"],["tabindex","0"]],[[1,"aria-disabled",0],[1,"aria-valuemax",0],[1,"aria-valuemin",0],[1,"aria-valuenow",0],[1,"aria-orientation",0],[2,"mat-primary",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"mat-slider-disabled",null],[2,"mat-slider-has-ticks",null],[2,"mat-slider-horizontal",null],[2,"mat-slider-axis-inverted",null],[2,"mat-slider-sliding",null],[2,"mat-slider-thumb-label-showing",null],[2,"mat-slider-vertical",null],[2,"mat-slider-min-value",null],[2,"mat-slider-hide-last-tick",null]],[[null,"slide"],[null,"change"],[null,"focus"],[null,"blur"],[null,"click"],[null,"keydown"],[null,"keyup"],[null,"mouseenter"],[null,"slideend"],[null,"slidestart"]],function(n,e,l){var t=!0,i=n.component;if("focus"===e){t=!1!==h["ɵnov"](n,38)._onFocus()&&t}if("blur"===e){t=!1!==h["ɵnov"](n,38)._onBlur()&&t}if("click"===e){t=!1!==h["ɵnov"](n,38)._onClick(l)&&t}if("keydown"===e){t=!1!==h["ɵnov"](n,38)._onKeydown(l)&&t}if("keyup"===e){t=!1!==h["ɵnov"](n,38)._onKeyup()&&t}if("mouseenter"===e){t=!1!==h["ɵnov"](n,38)._onMouseenter()&&t}if("slide"===e){t=!1!==h["ɵnov"](n,38)._onSlide(l)&&t}if("slideend"===e){t=!1!==h["ɵnov"](n,38)._onSlideEnd()&&t}if("slidestart"===e){t=!1!==h["ɵnov"](n,38)._onSlideStart(l)&&t}if("slide"===e){t=!1!==i.sliderChanged()&&t}if("change"===e){t=!1!==i.sliderChanged()&&t}return t},f.v,f.w)),h["ɵprd"](5120,null,p.d,function(n){return[n]},[m._87]),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](180224,[[4,4],["slider",4]],0,m._87,[h.Renderer2,h.ElementRef,m.h,[2,m._11]],{value:[0,"value"],vertical:[1,"vertical"]},{change:"change"}),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵted"](null,["\n  "]))],function(n,e){var l=e.component;n(e,9,0),n(e,20,0),n(e,31,0);n(e,38,0,l.zoomSliderValue,!0)},function(n,e){n(e,2,0,h["ɵnov"](e,4).disabled||null),n(e,13,0,h["ɵnov"](e,15).disabled||null),n(e,24,0,h["ɵnov"](e,26).disabled||null),n(e,35,1,[h["ɵnov"](e,38).disabled,h["ɵnov"](e,38).max,h["ɵnov"](e,38).min,h["ɵnov"](e,38).value,h["ɵnov"](e,38).vertical?"vertical":"horizontal","primary"==h["ɵnov"](e,38).color,"primary"!=h["ɵnov"](e,38).color&&"warn"!=h["ɵnov"](e,38).color,"warn"==h["ɵnov"](e,38).color,h["ɵnov"](e,38).disabled,h["ɵnov"](e,38).tickInterval,!h["ɵnov"](e,38).vertical,h["ɵnov"](e,38)._invertAxis,h["ɵnov"](e,38)._isSliding,h["ɵnov"](e,38).thumbLabel,h["ɵnov"](e,38).vertical,h["ɵnov"](e,38)._isMinValue,h["ɵnov"](e,38).disabled||h["ɵnov"](e,38)._isMinValue&&h["ɵnov"](e,38)._thumbGap&&h["ɵnov"](e,38)._invertAxis])})}function i(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n            "])),(n()(),h["ɵeld"](0,null,null,1,"td",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["",""])),(n()(),h["ɵted"](null,["\n            "])),(n()(),h["ɵeld"](0,null,null,3,"td",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n              "])),(n()(),h["ɵeld"](0,null,null,0,"div",[],[[4,"background-color",null]],null,null,null,null)),(n()(),h["ɵted"](null,["\n            "])),(n()(),h["ɵted"](null,["\n          "]))],null,function(n,e){n(e,3,0,e.context.$implicit.name),n(e,7,0,e.context.$implicit.color)})}function o(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,18,"div",[["id","legend"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n    "])),(n()(),h["ɵeld"](0,null,null,15,"md-card",[["class","mat-card"]],null,null,null,f.x,f.y)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](49152,null,0,m._53,[],null,null),(n()(),h["ɵted"](0,["\n      "])),(n()(),h["ɵeld"](0,null,0,10,"md-card-content",[["class","mat-card-content"]],null,null,null,null,null)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](16384,null,0,m._101,[],null,null),(n()(),h["ɵted"](null,["\n        "])),(n()(),h["ɵeld"](0,null,null,5,"table",[],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n          "])),(n()(),h["ɵeld"](0,null,null,3,"tbody",[],null,null,null,null,null)),(n()(),h["ɵand"](16777216,null,null,1,null,i)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](null,["\n        "])),(n()(),h["ɵted"](null,["\n      "])),(n()(),h["ɵted"](0,["\n    "])),(n()(),h["ɵted"](null,["\n  "]))],function(n,e){n(e,14,0,e.component.legend)},null)}function a(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},f.z,f.A)),h["ɵdid"](49152,[[13,4]],0,m._80,[h.ElementRef],{disabled:[0,"disabled"]},null),(n()(),h["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,h["ɵnov"](e,1)._getTabIndex(),h["ɵnov"](e,1).disabled.toString(),h["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function r(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},f.z,f.A)),h["ɵdid"](49152,[[14,4]],0,m._80,[h.ElementRef],{disabled:[0,"disabled"]},null),(n()(),h["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,h["ɵnov"](e,1)._getTabIndex(),h["ɵnov"](e,1).disabled.toString(),h["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function u(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},f.z,f.A)),h["ɵdid"](49152,[[15,4]],0,m._80,[h.ElementRef],{disabled:[0,"disabled"]},null),(n()(),h["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,h["ɵnov"](e,1)._getTabIndex(),h["ɵnov"](e,1).disabled.toString(),h["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function d(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,2,"button",[["class","mat-menu-item"],["md-menu-item",""],["role","menuitem"]],[[1,"tabindex",0],[1,"aria-disabled",0],[1,"disabled",0]],[[null,"click"]],function(n,e,l){var t=!0;if("click"===e){t=!1!==h["ɵnov"](n,1)._checkDisabled(l)&&t}if("click"===e){t=!1!==n.context.$implicit.action(l)&&t}return t},f.z,f.A)),h["ɵdid"](49152,[[16,4]],0,m._80,[h.ElementRef],{disabled:[0,"disabled"]},null),(n()(),h["ɵted"](0,["\n    ","\n  "]))],function(n,e){n(e,1,0,!e.context.$implicit.enabled)},function(n,e){n(e,0,0,h["ɵnov"](e,1)._getTabIndex(),h["ɵnov"](e,1).disabled.toString(),h["ɵnov"](e,1)._getDisabledAttr()),n(e,2,0,e.context.$implicit.name)})}function s(n){return h["ɵvid"](0,[h["ɵqud"](402653184,1,{containerElement:0}),h["ɵqud"](402653184,2,{mapElement:0}),h["ɵqud"](402653184,3,{graphElement:0}),h["ɵqud"](671088640,4,{slider:0}),h["ɵqud"](402653184,5,{graphMenuTrigger:0}),h["ɵqud"](402653184,6,{graphMenuTriggerElement:0}),h["ɵqud"](402653184,7,{stationMenuTrigger:0}),h["ɵqud"](402653184,8,{stationMenuTriggerElement:0}),h["ɵqud"](402653184,9,{deliveryMenuTrigger:0}),h["ɵqud"](402653184,10,{deliveryMenuTriggerElement:0}),h["ɵqud"](402653184,11,{traceMenuTrigger:0}),h["ɵqud"](402653184,12,{traceMenuTriggerElement:0}),(n()(),h["ɵeld"](0,[[1,0],["container",1]],null,11,"div",[["id","container"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n  "])),(n()(),h["ɵeld"](0,[[2,0],["map",1]],null,0,"div",[["id","map"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n  "])),(n()(),h["ɵeld"](0,[[3,0],["graph",1]],null,0,"div",[["id","graph"]],null,null,null,null,null)),(n()(),h["ɵted"](null,["\n  "])),(n()(),h["ɵand"](16777216,null,null,1,null,t)),h["ɵdid"](16384,null,0,v.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["ɵted"](null,["\n  "])),(n()(),h["ɵand"](16777216,null,null,1,null,o)),h["ɵdid"](16384,null,0,v.NgIf,[h.ViewContainerRef,h.TemplateRef],{ngIf:[0,"ngIf"]},null),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](16777216,[[6,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==h["ɵnov"](n,26)._handleMousedown(l)&&t}if("click"===e){t=!1!==h["ɵnov"](n,26).toggleMenu()&&t}return t},null,null)),h["ɵdid"](4341760,[[5,4],["graphMenuTrigger",4]],0,m._102,[m.m,h.ElementRef,h.ViewContainerRef,[2,m._11]],{menu:[0,"menu"]},null),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](16777216,[[8,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==h["ɵnov"](n,29)._handleMousedown(l)&&t}if("click"===e){t=!1!==h["ɵnov"](n,29).toggleMenu()&&t}return t},null,null)),h["ɵdid"](4341760,[[7,4],["stationMenuTrigger",4]],0,m._102,[m.m,h.ElementRef,h.ViewContainerRef,[2,m._11]],{menu:[0,"menu"]},null),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](16777216,[[10,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==h["ɵnov"](n,32)._handleMousedown(l)&&t}if("click"===e){t=!1!==h["ɵnov"](n,32).toggleMenu()&&t}return t},null,null)),h["ɵdid"](4341760,[[9,4],["deliveryMenuTrigger",4]],0,m._102,[m.m,h.ElementRef,h.ViewContainerRef,[2,m._11]],{menu:[0,"menu"]},null),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](16777216,[[12,0]],null,1,"div",[["aria-haspopup","true"]],null,[[null,"mousedown"],[null,"click"]],function(n,e,l){var t=!0;if("mousedown"===e){t=!1!==h["ɵnov"](n,35)._handleMousedown(l)&&t}if("click"===e){t=!1!==h["ɵnov"](n,35).toggleMenu()&&t}return t},null,null)),h["ɵdid"](4341760,[[11,4],["traceMenuTrigger",4]],0,m._102,[m.m,h.ElementRef,h.ViewContainerRef,[2,m._11]],{menu:[0,"menu"]},null),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,f.B,f.C)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[["graphMenu",4]],1,m._79,[h.ElementRef],null,null),h["ɵqud"](603979776,13,{items:1}),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,a)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n"])),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,f.B,f.C)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[["stationMenu",4]],1,m._79,[h.ElementRef],null,null),h["ɵqud"](603979776,14,{items:1}),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,r)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n"])),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,f.B,f.C)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[["deliveryMenu",4]],1,m._79,[h.ElementRef],null,null),h["ɵqud"](603979776,15,{items:1}),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,u)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n"])),(n()(),h["ɵted"](null,["\n"])),(n()(),h["ɵeld"](0,null,null,7,"md-menu",[["role","menu"]],null,null,null,f.B,f.C)),h["ɵdid"](16384,null,0,m.Y,[[2,m.Z],h.ElementRef],null,null),h["ɵdid"](1228800,[["traceMenu",4]],1,m._79,[h.ElementRef],null,null),h["ɵqud"](603979776,16,{items:1}),(n()(),h["ɵted"](0,["\n  "])),(n()(),h["ɵand"](16777216,null,0,1,null,d)),h["ɵdid"](802816,null,0,v.NgForOf,[h.ViewContainerRef,h.TemplateRef,h.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),h["ɵted"](0,["\n"])),(n()(),h["ɵted"](null,["\n"]))],function(n,e){var l=e.component;n(e,19,0,l.showZoom),n(e,22,0,l.showLegend),n(e,26,0,h["ɵnov"](e,39)),n(e,29,0,h["ɵnov"](e,48)),n(e,32,0,h["ɵnov"](e,57)),n(e,35,0,h["ɵnov"](e,66)),n(e,43,0,l.graphMenuActions),n(e,52,0,l.stationMenuActions),n(e,61,0,l.deliveryMenuActions),n(e,70,0,l.traceMenuActions)},null)}function c(n){return h["ɵvid"](0,[(n()(),h["ɵeld"](0,null,null,1,"app-gis",[],null,null,null,s,S)),h["ɵdid"](114688,null,0,b.a,[y.a,m.s,h.ElementRef],null,null)],function(n,e){n(e,1,0)},null)}var g=l("ahdB"),h=l("/oeL"),f=l("v6Q/"),m=l("Z04r"),p=l("bm2B"),v=l("qbdv"),b=l("vOym"),y=l("ppG+");l.d(e,"b",function(){return S}),e.a=s;var E=[g.a],S=h["ɵcrt"]({encapsulation:0,styles:E,data:{}});h["ɵccf"]("app-gis",b.a,c,{},{},[])},wQAS:function(n,e,l){"use strict";var t=l("Z04r"),i=l("rgUS"),o=(l.n(i),l("gLK3")),a=l("Zry1"),r=l("bsaU"),u=l("15l/"),d=l("VR9T");l.d(e,"a",function(){return s});var s=function(){function n(n,e){this.dataService=n,this.dialogService=e,this.graphTypes=d.a.GRAPH_TYPES,this.graphType=u.d.GRAPH,this.gisType=u.d.GIS,this.tableModes=d.a.TABLE_MODES,this.showTypes=d.a.SHOW_TYPES,this.sizes=d.a.SIZES,this.data={elements:null,layout:null,gisLayout:null,graphSettings:o.a.getDefaultGraphSettings(),tableSettings:o.a.getDefaultTableSettings()},document.body.oncontextmenu=function(n){return n.preventDefault()}}return n.prototype.ngOnInit=function(){var n=this;this.dataService.setDataSource("assets/data/bbk.json"),this.dataService.getData().then(function(e){n.data=e,n.updateComponents()}).catch(function(e){r.a.showErrorMessage(n.dialogService,e)}),this.rightSidenav.onOpenStart.subscribe(function(){return n.onTableChange("width")}),new i.Manager(this.sidenavSlider.nativeElement,{recognizers:[[i.Pan]]}).on("pan",function(e){var l=1-e.center.x/n.mainContainer.nativeElement.offsetWidth;l>0&&l<1&&(n.data.tableSettings.width=l,n.onTableChange("width"))})},n.prototype.onGraphChange=function(n){switch(n){case"type":switch(this.data.graphSettings.type){case u.d.GRAPH:this.data.gisLayout=this.gis.getLayout();break;case u.d.GIS:this.data.layout=this.graph.getLayout()}this.updateComponents();break;case"nodeSize":this.getCurrentGraph().setNodeSize(this.data.graphSettings.nodeSize);break;case"fontSize":this.getCurrentGraph().setFontSize(this.data.graphSettings.fontSize);break;case"mergeDeliveries":this.getCurrentGraph().setMergeDeliveries(this.data.graphSettings.mergeDeliveries);break;case"showLegend":this.getCurrentGraph().setShowLegend(this.data.graphSettings.showLegend);break;case"showZoom":this.getCurrentGraph().setShowZoom(this.data.graphSettings.showZoom)}},n.prototype.onTableChange=function(n){switch(n){case"width":this.rightSidenavElement.nativeElement.style.width=100*this.data.tableSettings.width+"%";break;case"mode":this.table.setMode(this.data.tableSettings.mode);break;case"stationColumns":this.table.setStationColumns(this.data.tableSettings.stationColumns);break;case"deliveryColumns":this.table.setDeliveryColumns(this.data.tableSettings.deliveryColumns);break;case"showType":this.table.setShowType(this.data.tableSettings.showType)}},n.prototype.onLoad=function(n){var e=this,l=n.target.files;1===l.length?(this.dataService.setDataSource(l[0]),this.dataService.getData().then(function(n){e.data=n,e.updateComponents()}).catch(function(n){r.a.showErrorMessage(e.dialogService,n)})):r.a.showErrorMessage(this.dialogService,"Please select one .json file!"),this.fileInput.nativeElement.value=""},n.prototype.onSave=function(){switch(this.data.graphSettings.type){case u.d.GRAPH:this.data.layout=this.graph.getLayout();break;case u.d.GIS:this.data.gisLayout=this.gis.getLayout()}var n=new Blob([JSON.stringify(this.data)],{type:"application/json"});if(null!=window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,"data.json");else{var e=window.URL.createObjectURL(n);r.a.openSaveDialog(e,"data.json"),window.URL.revokeObjectURL(e)}},n.prototype.onSaveImage=function(){this.getCurrentGraph().getCanvas().then(function(n){null!=window.navigator.msSaveOrOpenBlob&&null!=n.msToBlob?window.navigator.msSaveOrOpenBlob(n.msToBlob(),"graph.png"):r.a.openSaveDialog(n.toDataURL("image/png"),"graph.png")})},n.prototype.changeColumns=function(){for(var n=this,e=[],l=0,t=r.a.getAllTableProperties(this.data.tableSettings.mode,this.data.elements);l<t.length;l++){var i=t[l];e.push({value:i,viewValue:d.a.PROPERTIES.has(i)?d.a.PROPERTIES.get(i).name:'"'+i+'"',selected:r.a.getTableProperties(this.data.tableSettings.mode,this.data.tableSettings.stationColumns,this.data.tableSettings.deliveryColumns).includes(i)})}var o={title:"Input",options:e};this.dialogService.open(a.a,{data:o}).afterClosed().subscribe(function(e){if(null!=e)switch(n.data.tableSettings.mode){case u.c.STATIONS:n.data.tableSettings.stationColumns=e,n.onTableChange("stationColumns");break;case u.c.DELIVERIES:n.data.tableSettings.deliveryColumns=e,n.onTableChange("deliveryColumns")}})},n.prototype.updateComponents=function(){var n=this;this.onTableChange("width");var e=function(){if(null==n.getCurrentGraph().elementRef.nativeElement.offsetParent)setTimeout(e,50);else{switch(n.getCurrentGraph().setNodeSize(n.data.graphSettings.nodeSize),n.getCurrentGraph().setFontSize(n.data.graphSettings.fontSize),n.getCurrentGraph().setMergeDeliveries(n.data.graphSettings.mergeDeliveries),n.getCurrentGraph().setShowLegend(n.data.graphSettings.showLegend),n.getCurrentGraph().setShowZoom(n.data.graphSettings.showZoom),n.getCurrentGraph().onChange(function(){return n.table.update()}),n.data.graphSettings.type){case u.d.GRAPH:n.graph.init(n.data.elements,n.data.layout);break;case u.d.GIS:n.gis.init(n.data.elements,n.data.gisLayout)}n.table.setMode(n.data.tableSettings.mode),n.table.setStationColumns(n.data.tableSettings.stationColumns),n.table.setDeliveryColumns(n.data.tableSettings.deliveryColumns),n.table.setShowType(n.data.tableSettings.showType),n.table.onSelectionChange(function(){return n.getCurrentGraph().updateSelection()}),n.table.init(n.data.elements)}};e()},n.prototype.getCurrentGraph=function(){switch(this.data.graphSettings.type){case u.d.GRAPH:return this.graph;case u.d.GIS:return this.gis}},n.ctorParameters=function(){return[{type:o.a},{type:t.s}]},n}()},"yu+Z":function(n,e,l){"use strict";l.d(e,"a",function(){return t});var t=[""]}},[0]);