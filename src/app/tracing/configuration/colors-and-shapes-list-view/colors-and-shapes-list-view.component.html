<div id="fcl-colors-and-shapes-list-view-list">

    <div
        class="fcl-colors-and-shapes-list-view-list-item"
        *ngFor="let item of colorsAndShapesListHighlightings; let i = index"
    >
        <div
            mat-line
            class="fcl-colors-and-shapes-list-item-name">
            {{ item.name }}
        </div>

        <div class="fcl-colors-and-shapes-list-item-fix fcl-colors-and-shapes-list-item-shape">
            <fcl-node-symbol-view
                *ngIf="item.color || (item.shape !== undefined && item.shape !== null)"
                [shapeType]="item.shape"
                [fillColor]="item.color? { r:item.color[0], g:item.color[1], b:item.color[2] } : null"
            ></fcl-node-symbol-view>
        </div>

        <div class="fcl-colors-and-shapes-list-item fcl-colors-and-shapes-list-item-end fcl-colors-and-shapes-list-item-counts">
            <span class="fcl-colors-and-shapes-list-item-count">500</span>
        </div>

        <div class="fcl-colors-and-shapes-list-view-legend-button fcl-colors-and-shapes-list-item-fix fcl-colors-and-shapes-list-item-legend">
            <mat-button-toggle
                [checked]="item.showInLegend"
                (change)="onToggleShowInLegend(i)"
                [disabled]="listButtonDisabled"
            >
                L
            </mat-button-toggle>
        </div>

        <button
            class="fcl-colors-and-shapes-list-item-edit-button"
            mat-button
            matTooltip="Edit Highlighting Rule"
            matTooltipPosition="above"
            color="accent"
            (click)="onEditHighlightingRule(item, i)"
            [disabled]="listButtonDisabled"
        >
            <mat-icon>edit</mat-icon>
        </button>

        <button
            class="fcl-colors-and-shapes-list-item-delete-button"
            mat-button
            matTooltip="Delete Highlighting Rule"
            matTooltipPosition="above"
            color="warn"
            (click)="onDeleteHighlightingRule($event, item, i)"
            [disabled]="listButtonDisabled"
            >
            <mat-icon>delete forever</mat-icon>
        </button>

        <fcl-colors-and-shapes-edit-view
            *ngIf="editIndex === i"
            class="fcl-colors-and-shapes-list-item-edit-dialog"
            [inputData]="colorsAndShapesEditInputData"
            [stationHighlightingRule]="stationHighlightingRule"
            (applyColorsAndShapesRule)="onApplyColorsAndShapesRule($event)"
            (cancelColorsAndShapesRule)="onCancelColorsAndShapesRule()"
            (okColorsAndShapesRule)="onOkColorsAndShapesRule($event)"
        >

        </fcl-colors-and-shapes-edit-view>

    </div>

</div>

<button
    *ngIf="showAddHighlightingRuleButton"
    mat-stroked-button
    class="fcl-add-highlighting-rule-button"
    matTooltip="Add Highlighting Rule"
    matTooltipPosition="above"
    color="primary"
    (click)="onAddColorsAndShapesRule()"
>
    <mat-icon>add</mat-icon>
</button>

<fcl-colors-and-shapes-edit-view
    *ngIf="showHighlightingRuleDialog"
    [inputData]="colorsAndShapesEditInputData"
    [stationHighlightingRule]="stationHighlightingRule"
    (applyColorsAndShapesRule)="onApplyColorsAndShapesRule($event)"
    (cancelColorsAndShapesRule)="onCancelColorsAndShapesRule()"
    (okColorsAndShapesRule)="onOkColorsAndShapesRule($event)"
>
</fcl-colors-and-shapes-edit-view>
